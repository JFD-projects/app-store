{"version":3,"sources":["app/components/common/container.jsx","app/components/common/form/textField.jsx","app/utils/validator.js","app/service/http.service.js","app/service/users.service.js","app/service/localStorage.service.js","app/hooks/useAuth.jsx","app/components/ui/loginForm.jsx","app/components/ui/registerForm.jsx","app/layouts/login.jsx","app/api/fake.api/groups.api.js","app/api/fake.api/products.api.js","app/api/index.js","app/config.validator.js","app/components/common/form/selectField.jsx","app/components/common/loader.jsx","app/components/ui/createForm.jsx","app/components/common/table/tableHeader.jsx","app/components/common/table/tableBody.jsx","app/components/common/table/index.js","app/components/common/table/tableItems.jsx","app/components/ui/editForm.jsx","app/service/groups.service.js","app/hooks/useGroups.jsx","app/components/ui/group.jsx","app/service/products.service.js","app/hooks/useProducts.jsx","app/components/ui/thumbnail.jsx","app/layouts/dashboard.jsx","app/utils/mockData.js","app/layouts/main.jsx","app/components/ui/NavBar.jsx","app/components/common/groupsList.jsx","app/components/common/pagination.jsx","app/components/ui/productCard.jsx","app/components/ui/productsList.jsx","app/components/ui/searchProduct.jsx","app/components/ui/sortProducts.jsx","app/components/pages/productsCatalogPage/index.js","app/components/pages/productsCatalogPage/productsCatalogPage.jsx","app/utils/paginate.js","app/components/common/counter.jsx","app/components/pages/productPage/index.js","app/components/pages/productPage/productPage.jsx","app/layouts/catalog.jsx","app/App.js","index.js"],"names":["Container","children","className","TextField","label","type","name","value","onChange","error","useState","showPassword","setShowPassword","htmlFor","id","target","onClick","defaultProps","validator","data","config","errors","validate","method","statusValidate","toString","trim","test","length","message","fieldName","validateMethod","http","axios","create","baseURL","configFile","apiEndPoint","interceptors","request","use","isFireBase","containSlash","url","slice","Promise","reject","response","res","content","Object","keys","map","item","status","console","log","toast","httpService","get","post","put","delete","usersEndPoint","usersService","a","payload","_id","TOKEN_KEY","REFRESH_KEY","EXPIRES_KEY","setTokens","idToken","refreshToken","expiresIn","expiresDate","Date","getTime","localStorage","setItem","httpAuth","params","key","process","REACT_APP_FIREBASE_KEY","AuthContext","React","createContext","useAuth","useContext","AuthProvider","currentUser","setUser","setError","email","password","returnSecureToken","errorCatcher","code","Error","rest","createUser","localId","useEffect","Provider","signUp","logIn","LoginForm","setData","setErrors","enterError","setEnterError","handleChange","prevState","validatorConfig","isRequired","isEmail","isValid","handleSubmit","e","preventDefault","onSubmit","disabled","RegisterForm","history","useHistory","isCapitalSymbol","isDigitalSymbol","min","push","Login","useParams","typeForm","setTypeForm","toggleFormType","role","groupsObject","iphone","makbook","imak","makpro","applewatch","fetchAll","resolve","window","setTimeout","products","group","groups","price","image","count","getItem","JSON","stringify","API","parse","getById","find","p","update","productIndex","findIndex","isDigit","SelectField","defaultOption","options","optionsArray","Array","isArray","optionName","option","Loader","style","width","height","position","top","left","bottom","right","backgroundColor","CreateForm","show","onClose","onChangeData","setGroups","isLoading","setIsLoading","api","then","getGroupById","groupData","Modal","onHide","centered","Header","closeButton","Title","Body","Footer","Button","variant","TableHeader","columns","selectedSort","onSort","renderSortPointer","path","cl","order","color","column","scope","undefined","TableBody","renderContent","component","TableItems","Table","responsive","EditForm","groupsService","GroupsContext","useGroups","GroupsProvider","getGroups","Group","propTypes","PropTypes","string","productsService","ProductsContext","useProducts","ProductsProvider","setProducts","setLoading","productService","getProducts","getProductById","Thumbnail","product","objectFit","src","alt","Dashboard","sortBy","setSortBy","setId","setShow","buttons","handleProductEdit","handleDelete","handleChangeData","handleShow","handleClose","filter","sortedProducts","orderBy","useMockData","statusConsts","setStatus","progress","setProgress","setCount","summuryCount","incrementCount","newProgress","Math","floor","updateProgress","initialize","Main","ProgressBar","animated","now","NavBar","isVisible","setIsVisible","to","data-toggle","data-target","aria-controls","aria-expanded","aria-label","GroupsList","items","valueProperty","contentProperty","selectedItem","onItemSelect","onSelectClear","itemsArray","Pagination","currentPage","countItem","pageSize","onPageChange","pageCount","ceil","pages","_","page","aria-current","ProductCard","Intl","NumberFormat","format","ProductsList","SearchProduct","onSearch","placeholder","SortProducts","sortList","handleSort","ProductsCatalogPage","searchQuery","setSearchQuery","selectedGroup","setSelectedGroup","setCurrentPage","filtredProducts","toLowerCase","includes","productsCrop","pageNumber","startIndex","paginate","onClearItem","pageIndex","Counter","onIncrement","onDecrement","Badge","bg","text","minWidth","ProductPage","setProduct","minHeight","Catalog","productId","App","exact","ToastContainer","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b1b69556.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Container = ({ children }) => {\r\n  return <div className=\"container\">{children}</div>\r\n}\r\n\r\nContainer.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array])\r\n}\r\n\r\nexport default Container\r\n","import React, { useState } from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst TextField = ({ label, type, name, value, onChange, error }) => {\r\n  const [showPassword, setShowPassword] = useState(false)\r\n\r\n  const handleChange = ({ target }) => {\r\n    onChange({ name: target.name, value: target.value })\r\n  }\r\n\r\n  const toggleShowPassword = () => {\r\n    setShowPassword(!showPassword)\r\n  }\r\n\r\n  const getInputClasses = () => {\r\n    return 'form-control' + (error ? ' is-invalid' : ' is-valid')\r\n  }\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <label className=\"form-label\" htmlFor={name}>\r\n        {label}\r\n      </label>\r\n      <div className=\"input-group has-validation\">\r\n        <input\r\n          className={getInputClasses()}\r\n          type={showPassword ? 'text' : type}\r\n          id={name}\r\n          name={name}\r\n          value={value}\r\n          onChange={handleChange}\r\n        />\r\n        {type === 'password' && (\r\n          <button\r\n            className={'btn btn-outline' + (error ? '-danger' : '-success')}\r\n            type=\"button\"\r\n            onClick={toggleShowPassword}>\r\n            <i className={'bi bi-eye' + (showPassword ? '-slash' : '')}></i>\r\n          </button>\r\n        )}\r\n        {error && <div className=\"invalid-feedback\">{error}</div>}\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nTextField.defaultProps = {\r\n  type: 'text'\r\n}\r\n\r\nTextField.propTypes = {\r\n  label: PropTypes.string,\r\n  type: PropTypes.string,\r\n  name: PropTypes.string,\r\n  value: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\r\n  onChange: PropTypes.func,\r\n  error: PropTypes.string\r\n}\r\n\r\nexport default TextField\r\n","export const validator = (data, config) => {\r\n  const errors = {}\r\n  function validate(method, data, config) {\r\n    let statusValidate\r\n\r\n    switch (method) {\r\n    case 'isRequired':\r\n      statusValidate = !data.toString().trim()\r\n      break\r\n    case 'isEmail': {\r\n      const emailRegExp = /^\\S+@\\S+\\.\\S+$/g\r\n      statusValidate = !emailRegExp.test(data)\r\n      break\r\n    }\r\n    case 'isCapitalSymbol': {\r\n      const capitalRegExp = /[A-Z]+/g\r\n      statusValidate = !capitalRegExp.test(data)\r\n      break\r\n    }\r\n    case 'isDigitalSymbol': {\r\n      const digitalRegExp = /\\d+/g\r\n      statusValidate = !digitalRegExp.test(data)\r\n      break\r\n    }\r\n    case 'min': {\r\n      statusValidate = data.length < config.value\r\n      break\r\n    }\r\n    case 'isDigit': {\r\n      const isDigitalRegExp = /^[0-9]+$/g\r\n      statusValidate = !isDigitalRegExp.test(+data)\r\n      break\r\n    }\r\n    default:\r\n      break\r\n    }\r\n\r\n    if (statusValidate) return config.message\r\n  }\r\n\r\n  for (const fieldName in data) {\r\n    for (const validateMethod in config[fieldName]) {\r\n      const error = validate(validateMethod, data[fieldName], config[fieldName][validateMethod])\r\n\r\n      if (error && !errors[fieldName]) {\r\n        errors[fieldName] = error\r\n      }\r\n    }\r\n  }\r\n\r\n  return errors\r\n}\r\n","import axios from 'axios'\r\nimport { toast } from 'react-toastify'\r\nimport configFile from '../config.json'\r\n\r\nconst http = axios.create({\r\n  baseURL: configFile.apiEndPoint\r\n})\r\n\r\n\r\nhttp.interceptors.request.use(\r\n  function (config) {\r\n    if (configFile.isFireBase) {\r\n      const containSlash = /\\/$/gi.test(config.url)\r\n      config.url = (containSlash ? config.url.slice(0, -1) : config.url) + '.json'\r\n    }\r\n    return config\r\n  },\r\n  function (error) {\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nfunction transformData(data) {\r\n  return data ? Object.keys(data).map((item) => data[item]) : []\r\n}\r\n\r\nhttp.interceptors.response.use(\r\n  (res) => {\r\n    if (configFile.isFireBase) {\r\n      res.data = { content: transformData(res.data) }\r\n    }\r\n\r\n    return res\r\n  },\r\n  function (error) {\r\n    const expectedErrors =\r\n      error.response && error.response.status >= 400 && error.response.status < 500\r\n    if (!expectedErrors) {\r\n      console.log(error)\r\n      toast.error('Error. Try it later.')\r\n    }\r\n\r\n    return Promise.reject(error)\r\n  }\r\n)\r\n\r\nconst httpService = {\r\n  get: http.get,\r\n  post: http.post,\r\n  put:http.put,\r\n  delete: http.delete\r\n}\r\n\r\nexport default httpService\r\n","import httpService from './http.service'\r\n\r\nconst usersEndPoint = 'user/'\r\n\r\nconst usersService = {\r\n  get: async () => {\r\n    const { data } = await httpService.get(usersEndPoint)\r\n    return data\r\n  },\r\n  create: async (payload) => {\r\n    const { data } = await httpService.put(usersEndPoint + payload._id, payload)\r\n    return data\r\n  }\r\n}\r\n\r\nexport default usersService\r\n","const TOKEN_KEY = 'jwt-idToken'\r\nconst REFRESH_KEY = 'jwt-refresh-token'\r\nconst EXPIRES_KEY = 'jwt-expires'\r\n\r\nexport function setTokens({ idToken, refreshToken, expiresIn = 3600 }) {\r\n  const expiresDate = new Date().getTime() + expiresIn * 1000\r\n  localStorage.setItem(TOKEN_KEY, idToken)\r\n  localStorage.setItem(REFRESH_KEY, refreshToken)\r\n  localStorage.setItem(EXPIRES_KEY, expiresDate)\r\n}\r\n\r\nexport function getAccessToken() {\r\n  return localStorage.getItem(TOKEN_KEY)\r\n}\r\n\r\nexport function getRefreshToken() {\r\n  return localStorage.getItem(REFRESH_KEY)\r\n}\r\n\r\nexport function getTokenExpriresDate() {\r\n  return localStorage.getItem(EXPIRES_KEY)\r\n}\r\n\r\nconst localStorageService = {\r\n  setTokens,\r\n  getAccessToken,\r\n  getRefreshToken,\r\n  getTokenExpriresDate\r\n}\r\n\r\nexport default localStorageService\r\n","import axios from 'axios'\r\nimport PropTypes from 'prop-types'\r\nimport React, { useContext, useEffect, useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport usersService from '../service/users.service'\r\nimport { setTokens } from '../service/localStorage.service'\r\n\r\nconst httpAuth = axios.create({\r\n  baseURL: 'https://identitytoolkit.googleapis.com/v1/',\r\n  params: {\r\n    key: process.env.REACT_APP_FIREBASE_KEY\r\n  }\r\n})\r\n\r\nconst AuthContext = React.createContext()\r\n\r\nexport const useAuth = () => {\r\n  return useContext(AuthContext)\r\n}\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const [currentUser, setUser] = useState({})\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast(error)\r\n      setError(null)\r\n    }\r\n  }, [error])\r\n\r\n  async function logIn({ email, password }) {\r\n    try {\r\n      const { data } = await httpAuth.post('accounts:signInWithPassword', {\r\n        email,\r\n        password,\r\n        returnSecureToken: true\r\n      })\r\n      setTokens(data)\r\n    } catch (error) {\r\n      errorCatcher(error)\r\n      const { code, message } = error.response.data.error\r\n      console.log(code, message)\r\n      if (code === 400) {\r\n        switch (message) {\r\n        case 'INVALID_PASSWORD':\r\n          throw new Error('Email или пароль введены некорректно')\r\n\r\n        default:\r\n          throw new Error('Слишком много попыток входа. Попробуйте позднее')\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async function signUp({ email, password, ...rest }) {\r\n    try {\r\n      const { data } = await httpAuth.post('accounts:signUp', {\r\n        email,\r\n        password,\r\n        returnSecureToken: true\r\n      })\r\n      setTokens(data)\r\n      await createUser({ _id: data.localId, email, ...rest })\r\n      console.log(data)\r\n    } catch (error) {\r\n      errorCatcher(error)\r\n      const { code, message } = error.response.data.error\r\n      console.log(code, message)\r\n      if (code === 400) {\r\n        if (message === 'EMAIL_EXISTS') {\r\n          const errorObject = {\r\n            email: 'Пользователь с таким email уже существует'\r\n          }\r\n          throw errorObject\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async function createUser(data) {\r\n    try {\r\n      const { content } = await usersService.create(data)\r\n      setUser(content)\r\n    } catch (error) {\r\n      errorCatcher(error)\r\n    }\r\n  }\r\n\r\n  function errorCatcher(error) {\r\n    const { message } = error.response.data\r\n    setError(message)\r\n  }\r\n\r\n  return (\r\n    <AuthContext.Provider value={{ signUp, logIn, currentUser, createUser }}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  )\r\n}\r\n\r\nAuthProvider.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node])\r\n}\r\n\r\nexport default AuthProvider\r\n","import React, { useEffect, useState } from 'react'\r\nimport TextField from '../common/form/textField'\r\nimport { validator } from '../../utils/validator'\r\nimport { useAuth } from '../../hooks/useAuth'\r\n\r\nconst LoginForm = () => {\r\n  const [data, setData] = useState({ email: '', password: '' })\r\n  const [errors, setErrors] = useState({})\r\n  const [enterError, setEnterError] = useState(null)\r\n\r\n  const { logIn } = useAuth()\r\n\r\n  const handleChange = (target) => {\r\n    setData((prevState) => ({\r\n      ...prevState,\r\n      [target.name]: target.value\r\n    }))\r\n    setEnterError(null)\r\n  }\r\n\r\n  const validatorConfig = {\r\n    email: {\r\n      isRequired: {\r\n        message: 'Электронная почта обязательна для заполнения!'\r\n      },\r\n      isEmail: {\r\n        message: 'Адрес почты введен некорректно!'\r\n      }\r\n    },\r\n    password: {\r\n      isRequired: {\r\n        message: 'Пароль обязателен для заполнения!'\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    validate()\r\n  }, [data])\r\n\r\n  const validate = () => {\r\n    const errors = validator(data, validatorConfig)\r\n\r\n    setErrors(errors)\r\n\r\n    return !Object.keys(errors).length\r\n  }\r\n\r\n  const isValid = !Object.keys(errors).length\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    const isValid = validate()\r\n    if (!isValid) return\r\n    try {\r\n      await logIn(data)\r\n    } catch (error) {\r\n      setEnterError(error.message)\r\n    }\r\n    console.log(data)\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        label=\"Почта\"\r\n        name=\"email\"\r\n        value={data.email}\r\n        error={errors.email}\r\n        onChange={handleChange}\r\n      />\r\n      <TextField\r\n        label=\"Пароль\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={data.password}\r\n        error={errors.password}\r\n        onChange={handleChange}\r\n      />\r\n      {enterError && <p className=\"text-danger\">{enterError}</p>}\r\n      <button\r\n        className=\"btn btn-primary w-100 mx-auto mb-4\"\r\n        type=\"submit\"\r\n        disabled={!isValid || enterError}>\r\n        Отправить\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default LoginForm\r\n","import React, { useEffect, useState } from 'react'\r\nimport TextField from '../common/form/textField'\r\nimport { validator } from '../../utils/validator'\r\nimport { useAuth } from '../../hooks/useAuth'\r\nimport { useHistory } from 'react-router-dom'\r\n\r\nconst RegisterForm = () => {\r\n  const history = useHistory()\r\n  const [data, setData] = useState({ email: '', password: '' })\r\n  const [errors, setErrors] = useState({})\r\n\r\n  const { signUp } = useAuth()\r\n\r\n  const handleChange = (target) => {\r\n    setData((prevState) => ({\r\n      ...prevState,\r\n      [target.name]: target.value\r\n    }))\r\n  }\r\n\r\n  const validatorConfig = {\r\n    email: {\r\n      isRequired: {\r\n        message: 'Электронная почта обязательна для заполнения!'\r\n      },\r\n      isEmail: {\r\n        message: 'Адрес почты введен некорректно!'\r\n      }\r\n    },\r\n    password: {\r\n      isRequired: {\r\n        message: 'Пароль обязателен для заполнения!'\r\n      },\r\n      isCapitalSymbol: {\r\n        message: 'Пароль должен содержать хотя бы одну заглавную букву!'\r\n      },\r\n      isDigitalSymbol: {\r\n        message: 'Пароль должен содержать хотя бы одну цифру!'\r\n      },\r\n      min: {\r\n        message: 'Пароль должен быть не меньше 8 символов!',\r\n        value: 8\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    validate()\r\n  }, [data])\r\n\r\n  const validate = () => {\r\n    const errors = validator(data, validatorConfig)\r\n\r\n    setErrors(errors)\r\n\r\n    return !Object.keys(errors).length\r\n  }\r\n\r\n  const isValid = !Object.keys(errors).length\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault()\r\n    const isValid = validate()\r\n    console.log(errors)\r\n    if (!isValid) return\r\n    console.log(data)\r\n\r\n    try {\r\n      await signUp(data)\r\n      history.push('/')\r\n    } catch (error) {\r\n      setErrors(error)\r\n    }\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <TextField\r\n        label=\"Почта\"\r\n        name=\"email\"\r\n        value={data.email}\r\n        error={errors.email}\r\n        onChange={handleChange}\r\n      />\r\n      <TextField\r\n        label=\"Пароль\"\r\n        type=\"password\"\r\n        name=\"password\"\r\n        value={data.password}\r\n        error={errors.password}\r\n        onChange={handleChange}\r\n      />\r\n      <button className=\"btn btn-primary w-100 mx-auto mb-4\" type=\"submit\" disabled={!isValid}>\r\n        Отправить\r\n      </button>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default RegisterForm\r\n","import React, { useState } from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport Container from '../components/common/container'\r\nimport LoginForm from '../components/ui/loginForm'\r\nimport RegisterForm from '../components/ui/registerForm'\r\n\r\nconst Login = () => {\r\n  const { type } = useParams()\r\n  const [typeForm, setTypeForm] = useState(type === 'register' ? type : 'login')\r\n\r\n  const toggleFormType = () => {\r\n    setTypeForm((prevState) => (prevState === 'register' ? 'login' : 'register'))\r\n  }\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n        <div className=\"row mt-5\">\r\n          <div className=\"col-md-6 offset-md-3 p-4 shadow\">\r\n            {typeForm === 'register' ? (\r\n              <>\r\n                <h3 className=\"mb-4\">Регистрация</h3>\r\n                <RegisterForm />\r\n                <p>\r\n                  Уже есть аккаунт?\r\n                  <a role=\"button\" className=\"text-primary ms-2\" onClick={toggleFormType}>\r\n                    Войти\r\n                  </a>\r\n                </p>\r\n              </>\r\n            ) : (\r\n              <>\r\n                <h3 className=\"mb-4\">Войти</h3>\r\n                <LoginForm />\r\n                <p>\r\n                  Нет аккаунта?\r\n                  <a role=\"button\" className=\"text-primary ms-2\" onClick={toggleFormType}>\r\n                    Регистрация\r\n                  </a>\r\n                </p>\r\n              </>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Login\r\n","export const groupsObject = {\n  iphone: { _id: '67rdca3eeb7f6fgeed471198', name: 'Apple iPhone' },\n  makbook: { _id: '67rdca3eeb7f6fgeed471100', name: 'Apple MakBook' },\n  imak: { _id: '67rdca3eeb7f6fgeed4711012', name: 'Apple iMak' },\n  makpro: { _id: '67rdca3eeb7f6fgeed471101', name: 'Apple iPro' },\n  applewatch: { _id: '67rdca3eeb7f6fgeed471102', name: 'Apple Watch' }\n}\n\nexport const groups = [\n  { _id: '67rdca3eeb7f6fgeed471198', name: 'Apple iPhone' },\n  { _id: '67rdca3eeb7f6fgeed471100', name: 'Apple MakBook' },\n  { _id: '67rdca3eeb7f6fgeed4711012', name: 'Apple iMak' },\n  { _id: '67rdca3eeb7f6fgeed471101', name: 'Apple iPro' },\n  { _id: '67rdca3eeb7f6fgeed471102', name: 'Apple Watch' }\n]\nconst fetchAll = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(groupsObject)\n    }, 500)\n  })\n\nexport default {\n  fetchAll\n}\n","import { groupsObject as groups } from './groups.api'\n\nconst products = [\n  {\n    _id: 'a000001',\n    name: 'Apple iPhone 13 Pro Max',\n    group: groups.iphone,\n    price: 109990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/dca/170_170_1/dca32fccc72f91b8de65872ab65d7ed7.jpg',\n    count: 50\n  },\n  {\n    _id: 'a000002',\n    name: 'Apple iPhone 11',\n    group: groups.iphone,\n    price: 64990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/3ad/1160_880_17f5c944b3b71591cc9304fac25365de2/3ad09f1ec4a94498118c24ca8e9f3b4a.jpg',\n\n    count: 55\n  },\n  {\n    _id: 'a000003',\n    name: 'Apple iPhone 10',\n    group: groups.iphone,\n    price: 79990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/7cd/1160_880_17f5c944b3b71591cc9304fac25365de2/7cd7910f2a5302ab559b5ce94e398125.jpg',\n    count: 60\n  },\n  {\n    _id: 'a000004',\n    name: 'Apple iPhone SE',\n    group: groups.iphone,\n    price: 51990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/5fd/1160_880_17f5c944b3b71591cc9304fac25365de2/5fd51b9fe517cac135c92dd031cd5bc0.jpg',\n    count: 10\n  },\n  {\n    _id: 'a000005',\n    name: 'Apple MacBook Pro 13\"',\n    group: groups.makbook,\n    price: 137990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/922/1160_880_17f5c944b3b71591cc9304fac25365de2/92296847433225e3be0db5e827c7682e.jpg',\n    count: 15\n  },\n  {\n    _id: 'a000006',\n    name: 'Apple MacBook Air',\n    group: groups.makbook,\n    price: 119990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/de3/1160_880_17f5c944b3b71591cc9304fac25365de2/de317158d7bc97f494dab6698a95b12a.jpg',\n    count: 25\n  },\n  {\n    _id: 'a000007',\n    name: 'Apple MacBook Pro 16\"',\n    group: groups.makbook,\n    price: 254990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/b15/1160_880_17f5c944b3b71591cc9304fac25365de2/b150ea3967babb753a28d196757b428a.jpg',\n    count: 30\n  },\n  {\n    _id: 'a000008',\n    name: 'Apple iMac 24\" Blue',\n    group: groups.imak,\n    price: 169990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/b75/867_729_17f5c944b3b71591cc9304fac25365de2/b75b653416606202eff585c671cf0d13.jpg',\n    count: 40\n  },\n  {\n    _id: 'a000009',\n    name: 'Apple iMac 24\" Gold',\n    group: groups.imak,\n    price: 149990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/311/866_729_17f5c944b3b71591cc9304fac25365de2/31130a4b20d0a383eeb842e7b1f22bd5.jpg',\n    count: 5\n  },\n  {\n    _id: 'a000010',\n    name: 'Apple Mac Pro',\n    group: groups.makpro,\n    price: 621990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/a02/1160_880_17f5c944b3b71591cc9304fac25365de2/a02a78fe5fb38035a3ccdbabdf722f12.jpg',\n    count: 100\n  },\n  {\n    _id: 'a0000011',\n    name: 'Apple Watch Series 6',\n    group: groups.applewatch,\n    price: 36990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/e1a/1160_880_17f5c944b3b71591cc9304fac25365de2/e1a220f521cd232b62e6c357be9f1801.jpg',\n    count: 300\n  },\n  {\n    _id: 'a0000012',\n    name: 'Apple Watch Nike Series 6',\n    group: groups.applewatch,\n    price: 37990,\n    image:\n      'https://static.re-store.ru/upload/resize_cache/iblock/c03/1160_880_17f5c944b3b71591cc9304fac25365de2/c034d55e79704a2c8b0cc90049c1a8b7.jpg',\n    count: 500\n  }\n]\n\nif (!localStorage.getItem('products')) {\n  localStorage.setItem('products', JSON.stringify(products))\n}\n\nconst fetchAll = () =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem('products')))\n    }, 1000)\n  })\n\nconst update = (id, data) =>\n  new Promise((resolve) => {\n    const products = JSON.parse(localStorage.getItem('products'))\n    const productIndex = products.findIndex((p) => p._id === id)\n    products[productIndex] = { ...products[productIndex], ...data }\n    localStorage.setItem('products', JSON.stringify(products))\n    resolve(products[productIndex])\n  })\n\nconst getById = (id) =>\n  new Promise((resolve) => {\n    window.setTimeout(function () {\n      resolve(JSON.parse(localStorage.getItem('products')).find((p) => p._id === id))\n    }, 500)\n  })\n\nexport default {\n  fetchAll,\n  getById,\n  update\n}\n","import products from './fake.api/products.api'\nimport groupsObject from './fake.api/groups.api'\n\nconst API = {\n  products,\n  groupsObject\n}\nexport default API\n","export const validatorConfig = {\r\n  _id: {\r\n    isRequired: {\r\n      message: 'Поле обязательно для заполнения!'\r\n    }\r\n  },\r\n  name: {\r\n    isRequired: {\r\n      message: 'Поле обязательно для заполнения!'\r\n    }\r\n  },\r\n  group: {\r\n    isRequired: {\r\n      message: 'Поле обязательно для заполнения!'\r\n    }\r\n  },\r\n  price: {\r\n    isRequired: {\r\n      message: 'Поле обязательно для заполнения!'\r\n    },\r\n    isDigit: {\r\n      message: 'Допустимо только цифровое значение'\r\n    }\r\n  },\r\n  count: {\r\n    isRequired: {\r\n      message: 'Поле обязательно для заполнения!'\r\n    },\r\n    isDigit: {\r\n      message: 'Допустимо только цифровое значение'\r\n    }\r\n  },\r\n  image: {\r\n    isRequired: {\r\n      message: 'Поле обязательно для заполнения!'\r\n    }\r\n  }\r\n}\r\n","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst SelectField = ({ label, name, value, defaultOption, options, error, onChange }) => {\r\n  \r\n  const handleChange = ({ target }) => {\r\n    onChange({ name: target.name, value: target.value })\r\n  }\r\n\r\n  const optionsArray =\r\n    !Array.isArray(options) && typeof options === 'object'\r\n      ? Object.keys(options).map((optionName) => ({\r\n        name: options[optionName].name,\r\n        _id: options[optionName]._id\r\n      }))\r\n      : options\r\n\r\n  const getInputClasses = () => {\r\n    return 'form-select' + (error ? ' is-invalid' : '')\r\n  }\r\n\r\n  return (\r\n    <div className=\"mb-3\">\r\n      <label className=\"form-label\" htmlFor=\"validationCustom04\">\r\n        {label}\r\n      </label>\r\n      <select\r\n        className={getInputClasses()}\r\n        id=\"validationCustom04\"\r\n        value={value}\r\n        name={name}\r\n        onChange={handleChange}>\r\n        <option disabled value=\"\">\r\n          {defaultOption}\r\n        </option>\r\n        {options && optionsArray.map((option) => <option key={option._id} value={option._id}>{option.name}</option>)}\r\n      </select>\r\n      {error && <div className=\"invalid-feedback\">{error}</div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nSelectField.propTypes = {\r\n  label: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  value: PropTypes.string.isRequired,\r\n  defaultOption: PropTypes.string.isRequired,\r\n  error: PropTypes.string,\r\n  options: PropTypes.oneOfType([PropTypes.array, PropTypes.object]),\r\n  onChange: PropTypes.func.isRequired\r\n}\r\n\r\nexport default SelectField\r\n","import React from 'react'\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <div\r\n      style={{\r\n        width: '100vw',\r\n        height: '100vh',\r\n        position: 'absolute',\r\n        top: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        right: 0,\r\n        backgroundColor: 'rgba(0,0,0, 0.3)'\r\n      }}\r\n      className=\"d-flex justify-content-center align-items-center\">\r\n      <div className=\"spinner-border text-light\" role=\"status\">\r\n        <span className=\"visually-hidden\">Загрузка...</span>\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loader\r\n","import PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport api from '../../api'\r\nimport { validatorConfig } from '../../config.validator'\r\nimport { validator } from '../../utils/validator'\r\nimport SelectField from '../common/form/selectField'\r\nimport TextField from '../common/form/textField'\r\nimport Loader from '../common/loader'\r\n\r\nconst CreateForm = ({ show, onClose, onChangeData }) => {\r\n  const [data, setData] = useState({\r\n    _id: '',\r\n    name: '',\r\n    group: '',\r\n    price: 0,\r\n    count: 0,\r\n    image: ''\r\n  })\r\n\r\n  const [groups, setGroups] = useState({})\r\n  const [errors, setErrors] = useState({})\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n\r\n  // const [dataTypeOfNumber] = useState(() =>\r\n  //   Object.keys(data).filter((value) => typeof data[value] === 'number')\r\n  // )\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    api.groupsObject.fetchAll().then((data) => setGroups(data))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!Object.keys(groups).length) setIsLoading(false)\r\n  }, [groups])\r\n\r\n  const handleChange = (target) => {\r\n    setData((prevState) => ({\r\n      ...prevState,\r\n      [target.name]: target.value\r\n    }))\r\n  }\r\n\r\n  const getGroupById = (id) => {\r\n    for (const group in groups) {\r\n      const groupData = groups[group]\r\n      if (groupData._id === id) return groupData\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    validate()\r\n  }, [data])\r\n\r\n  const validate = () => {\r\n    const errors = validator(data, validatorConfig)\r\n\r\n    setErrors(errors)\r\n\r\n    return !Object.keys(errors).length\r\n  }\r\n\r\n  const isValid = !Object.keys(errors).length\r\n\r\n  // const formatData = (data, dataTypeOfNumber) => {\r\n  //   for (const [key, value] of Object.entries(data)) {\r\n  //     if (dataTypeOfNumber.includes(key)) {\r\n  //       data[key] = +value\r\n  //     }\r\n  //   }\r\n\r\n  //   return data\r\n  // }\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const isValid = validate()\r\n    if (!isValid) return\r\n\r\n    console.log({ ...data, group: getGroupById(data.group) })\r\n    onClose()\r\n    onChangeData()\r\n  }\r\n\r\n  if (isLoading) return <Loader />\r\n\r\n  return (\r\n    <Modal show={show} onHide={onClose} centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Добавить</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            label=\"ID\"\r\n            name=\"_id\"\r\n            value={data._id}\r\n            error={errors._id}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Название товара\"\r\n            name=\"name\"\r\n            value={data.name}\r\n            error={errors.name}\r\n            onChange={handleChange}\r\n          />\r\n          <SelectField\r\n            label=\"Группа товара\"\r\n            defaultOption=\"Choose...\"\r\n            name=\"group\"\r\n            value={data.group}\r\n            error={errors.group}\r\n            options={groups}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Цена\"\r\n            name=\"price\"\r\n            type=\"number\"\r\n            value={data.price}\r\n            error={errors.price}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Количество\"\r\n            name=\"count\"\r\n            type=\"number\"\r\n            value={data.count}\r\n            error={errors.count}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Фото\"\r\n            name=\"image\"\r\n            value={data.image}\r\n            error={errors.image}\r\n            onChange={handleChange}\r\n          />\r\n        </form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={onClose}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleSubmit} disabled={!isValid}>\r\n          Добавить\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nCreateForm.propTypes = {\r\n  show: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onChangeData: PropTypes.func.isRequired\r\n}\r\n\r\nexport default CreateForm\r\n","import React from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst TableHeader = ({ columns, selectedSort, onSort }) => {\r\n  const handleSort = (item) => {\r\n    if (selectedSort.path === item) {\r\n      onSort({\r\n        ...selectedSort,\r\n        order: selectedSort.order === 'asc' ? 'desc' : 'asc'\r\n      })\r\n    } else {\r\n      onSort({ path: item, order: 'asc' })\r\n    }\r\n  }\r\n\r\n  const renderSortPointer = (item) => {\r\n    const style = {\r\n      color: 'var(--bs-blue)'\r\n    }\r\n\r\n    if (selectedSort.path === item) {\r\n      const cl = 'bi bi-caret-' + (selectedSort.order === 'asc' ? 'down-fill' : 'up-fill')\r\n      return <i className={cl} style={style}></i>\r\n    }\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <thead>\r\n      <tr>\r\n        {Object.keys(columns).map((column) => (\r\n          <th\r\n            key={column}\r\n            {...{ role: columns[column].path && 'button' }}\r\n            scope=\"col\"\r\n            onClick={columns[column].path ? () => handleSort(columns[column].path) : undefined}>\r\n            {columns[column].name}\r\n            {renderSortPointer(columns[column].path)}\r\n          </th>\r\n        ))}\r\n      </tr>\r\n    </thead>\r\n  )\r\n}\r\n\r\nTableHeader.propTypes = {\r\n  columns: PropTypes.object.isRequired,\r\n  selectedSort: PropTypes.object.isRequired,\r\n  onSort: PropTypes.func.isRequired\r\n}\r\n\r\nexport default TableHeader\r\n","import React from 'react'\r\nimport { get } from 'lodash'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst TableBody = ({ data, columns }) => {\r\n  const renderContent = (item, column) => {\r\n    const component = columns[column].component\r\n    if (component) {\r\n      return component(item)\r\n    }\r\n\r\n    return get(item, columns[column].path)\r\n  }\r\n\r\n  return (\r\n    <tbody>\r\n      {data.map((item) => (\r\n        <tr key={item._id}>\r\n          {Object.keys(columns).map((column) => (\r\n            <td key={column}>{renderContent(item, column)}</td>\r\n          ))}\r\n        </tr>\r\n      ))}\r\n    </tbody>\r\n  )\r\n}\r\n\r\nTableBody.propTypes = {\r\n  data: PropTypes.array,\r\n  columns: PropTypes.object\r\n}\r\n\r\nexport default TableBody\r\n","import TableItems from './tableItems'\r\nexport default TableItems\r\nimport TableHeader from './tableHeader'\r\nimport TableBody from './tableBody'\r\nexport { TableHeader, TableBody }\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Table } from 'react-bootstrap'\r\nimport TableHeader from './tableHeader'\r\nimport TableBody from './tableBody'\r\n\r\nconst TableItems = ({ children, ...rest }) => {\r\n  return (\r\n    <Table responsive=\"md\" className=\"table table-striped\">\r\n      {children || (\r\n        <>\r\n          <TableHeader {...rest} />\r\n          <TableBody {...rest} />\r\n        </>\r\n      )}\r\n    </Table>\r\n  )\r\n}\r\n\r\nTableItems.propTypes = {\r\n  children: PropTypes.array\r\n}\r\n\r\nexport default TableItems\r\n","import PropTypes from 'prop-types'\r\nimport React, { useEffect, useState } from 'react'\r\nimport { Button, Modal } from 'react-bootstrap'\r\nimport api from '../../api'\r\nimport { validatorConfig } from '../../config.validator'\r\nimport { validator } from '../../utils/validator'\r\nimport SelectField from '../common/form/selectField'\r\nimport TextField from '../common/form/textField'\r\nimport Loader from '../common/loader'\r\n\r\nconst EditForm = ({ id, show, onClose, onChangeData }) => {\r\n  const [data, setData] = useState({\r\n    _id: '',\r\n    name: '',\r\n    group: '',\r\n    price: 0,\r\n    count: 0,\r\n    image: ''\r\n  })\r\n\r\n  const [groups, setGroups] = useState({})\r\n  const [errors, setErrors] = useState({})\r\n  const [isLoading, setIsLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    setIsLoading(true)\r\n    api.products.getById(id).then(({ group, ...data }) =>\r\n      setData((prevState) => ({\r\n        ...prevState,\r\n        ...data,\r\n        group: group._id\r\n      }))\r\n    )\r\n    api.groupsObject.fetchAll().then((data) => setGroups(data))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!Object.keys(groups).length) setIsLoading(false)\r\n  }, [groups])\r\n\r\n  const handleChange = (target) => {\r\n    setData((prevState) => ({\r\n      ...prevState,\r\n      [target.name]: target.value\r\n    }))\r\n  }\r\n\r\n  const getGroupById = (id) => {\r\n    for (const group in groups) {\r\n      const groupData = groups[group]\r\n      if (groupData._id === id) return groupData\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    validate()\r\n  }, [data])\r\n\r\n  const validate = () => {\r\n    const errors = validator(data, validatorConfig)\r\n    setErrors(errors)\r\n\r\n    return !Object.keys(errors).length\r\n  }\r\n\r\n  const isValid = !Object.keys(errors).length\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault()\r\n    const isValid = validate()\r\n    if (!isValid) return\r\n    api.products\r\n      .update(id, {\r\n        ...data,\r\n        group: getGroupById(data.group)\r\n      })\r\n      .then(() => {\r\n        onClose()\r\n        onChangeData()\r\n      })\r\n  }\r\n\r\n  if (isLoading) return <Loader />\r\n\r\n  return (\r\n    <Modal show={show} onHide={onClose} centered>\r\n      <Modal.Header closeButton>\r\n        <Modal.Title>Изменить</Modal.Title>\r\n      </Modal.Header>\r\n      <Modal.Body>\r\n        <form onSubmit={handleSubmit}>\r\n          <TextField\r\n            label=\"ID\"\r\n            name=\"_id\"\r\n            value={data._id}\r\n            error={errors._id}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Название товара\"\r\n            name=\"name\"\r\n            value={data.name}\r\n            error={errors.name}\r\n            onChange={handleChange}\r\n          />\r\n          <SelectField\r\n            label=\"Группа товара\"\r\n            defaultOption=\"Choose...\"\r\n            name=\"group\"\r\n            value={data.group}\r\n            error={errors.group}\r\n            options={groups}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Цена\"\r\n            name=\"price\"\r\n            type=\"number\"\r\n            value={data.price}\r\n            error={errors.price}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Количество\"\r\n            name=\"count\"\r\n            type=\"number\"\r\n            value={data.count}\r\n            error={errors.count}\r\n            onChange={handleChange}\r\n          />\r\n          <TextField\r\n            label=\"Фото\"\r\n            name=\"image\"\r\n            value={data.image}\r\n            error={errors.image}\r\n            onChange={handleChange}\r\n          />\r\n        </form>\r\n      </Modal.Body>\r\n      <Modal.Footer>\r\n        <Button variant=\"secondary\" onClick={onClose}>\r\n          Закрыть\r\n        </Button>\r\n        <Button variant=\"primary\" onClick={handleSubmit} disabled={!isValid}>\r\n          Изменить\r\n        </Button>\r\n      </Modal.Footer>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nEditForm.propTypes = {\r\n  id: PropTypes.string.isRequired,\r\n  show: PropTypes.bool.isRequired,\r\n  onClose: PropTypes.func.isRequired,\r\n  onChangeData: PropTypes.func.isRequired\r\n}\r\n\r\nexport default EditForm\r\n","import httpService from './http.service'\r\n\r\nconst groupsEndPoint = 'group/'\r\n\r\nconst groupsService = {\r\n  get: async () => {\r\n    const { data } = await httpService.get(groupsEndPoint)\r\n    return data\r\n  }\r\n}\r\n\r\nexport default groupsService\r\n","import React, { useContext, useEffect, useState } from 'react'\r\nimport { toast } from 'react-toastify'\r\nimport groupsService from '../service/groups.service'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst GroupsContext = React.createContext()\r\n\r\nexport const useGroups = () => {\r\n  return useContext(GroupsContext)\r\n}\r\n\r\nconst GroupsProvider = ({ children }) => {\r\n  const [groups, setGroups] = useState([])\r\n  const [isLoading, setIsLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    getGroups()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (error) {\r\n      toast(error)\r\n      setError(null)\r\n    }\r\n  }, [error])\r\n\r\n  async function getGroups() {\r\n    try {\r\n      const { content } = await groupsService.get()\r\n      setGroups(content)\r\n      setIsLoading(false)\r\n    } catch (error) {\r\n      errorCatcher(error)\r\n    }\r\n  }\r\n\r\n  function getGroupById(id) {\r\n    return groups.find(group => group._id === id)\r\n  }\r\n\r\n  function errorCatcher(error) {\r\n    const { message } = error.response.data\r\n    setError(message)\r\n  }\r\n\r\n  return <GroupsContext.Provider value={{ isLoading, groups, getGroupById }}>{children}</GroupsContext.Provider>\r\n}\r\n\r\nexport default GroupsProvider\r\n\r\nGroupsProvider.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node])\r\n}\r\n","import PropTypes from 'prop-types'\r\nimport React from 'react'\r\nimport { useGroups } from '../../hooks/useGroups'\r\n\r\nconst Group = ({ id }) => {\r\n  const { isLoading, getGroupById } = useGroups()\r\n  const group = getGroupById(id)\r\n\r\n  if (!isLoading) {\r\n    return <>{group.name}</>\r\n  } else {\r\n    return 'Loading...'\r\n  }\r\n}\r\n\r\nGroup.propTypes = {\r\n  id: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Group\r\n","import httpService from './http.service'\r\n\r\nconst productsEndPoint = 'product/'\r\n\r\nconst productsService = {\r\n  get: async () => {\r\n    const { data } = await httpService.get(productsEndPoint)\r\n    return data\r\n  }\r\n}\r\n\r\nexport default productsService\r\n","import React, { useState, useContext, useEffect } from 'react'\r\n\r\nimport PropTypes from 'prop-types'\r\nimport Loader from '../components/common/loader'\r\nimport productService from '../service/products.service'\r\nimport { toast } from 'react-toastify'\r\n\r\nconst ProductsContext = React.createContext()\r\n\r\nexport const useProducts = () => {\r\n  return useContext(ProductsContext)\r\n}\r\n\r\nconst ProductsProvider = ({ children }) => {\r\n  const [products, setProducts] = useState([])\r\n  const [isLoading, setLoading] = useState(true)\r\n  const [error, setError] = useState(null)\r\n\r\n  useEffect(() => {\r\n    getProducts()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (!error) {\r\n      toast(error)\r\n      setError(null)\r\n    }\r\n  }, [error])\r\n\r\n  async function getProducts() {\r\n    try {\r\n      const { content } = await productService.get()\r\n      setProducts(content)\r\n      setLoading(false)\r\n    } catch (error) {\r\n      errorCatcher(error)\r\n    }\r\n  }\r\n\r\n  function getProductById(id) {\r\n    return products.find(p => p._id === id)\r\n  }\r\n\r\n  function errorCatcher(error) {\r\n    const { message } = error.response.data\r\n    setError(message)\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <ProductsContext.Provider value={{ products, getProductById }}>\r\n      {!isLoading ? children : <Loader />}\r\n    </ProductsContext.Provider>\r\n  )\r\n}\r\n\r\nProductsProvider.propTypes = {\r\n  children: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node), PropTypes.node])\r\n}\r\n\r\nexport default ProductsProvider\r\n","import PropTypes from 'prop-types'\r\nimport React from 'react'\r\nimport { useProducts } from '../../hooks/useProducts'\r\n\r\nconst Thumbnail = ({ id }) => {\r\n  const { getProductById } = useProducts()\r\n  const product = getProductById(id)\r\n\r\n  if (product) {\r\n    return (\r\n      <div>\r\n        <img style={{ width: '50px', height: '50px', objectFit: 'contain' }} src={product.image} alt={product.name} />\r\n      </div>\r\n    )\r\n  } else {\r\n    return 'Loading...'\r\n  }\r\n}\r\n\r\nThumbnail.propTypes = {\r\n  id: PropTypes.string.isRequired\r\n}\r\n\r\nexport default Thumbnail\r\n","import { orderBy } from 'lodash'\r\nimport React, { useEffect, useState } from 'react'\r\nimport api from '../api'\r\nimport Container from '../components/common/container'\r\nimport CreateForm from '../components/ui/createForm'\r\nimport TableItems from '../components/common/table'\r\nimport EditForm from '../components/ui/editForm'\r\nimport Group from '../components/ui/group'\r\nimport Thumbnail from '../components/ui/thumbnail'\r\n\r\nconst Dashboard = () => {\r\n  const [products, setProducts] = useState([])\r\n  const [sortBy, setSortBy] = useState({ path: 'name', order: 'asc' })\r\n  const [typeForm, setTypeForm] = useState()\r\n  const [id, setId] = useState()\r\n  const [show, setShow] = useState(false)\r\n\r\n  const columns = {\r\n    id: { path: '_id', name: 'ID' },\r\n    name: { path: 'name', name: 'Наименование' },\r\n    group: {\r\n      path: 'group.name',\r\n      name: 'Категория',\r\n      // eslint-disable-next-line react/display-name\r\n      component: (product) => <Group id={product.group._id} />\r\n    },\r\n    price: { path: 'price', name: 'Стоимость' },\r\n    count: { path: 'count', name: 'Кол-во' },\r\n    // eslint-disable-next-line react/display-name\r\n    image: { path: 'image', name: 'Фото', component: (product) => <Thumbnail id={product._id} /> },\r\n    buttons: {\r\n      // eslint-disable-next-line react/display-name\r\n      component: (item) => (\r\n        <div className=\"d-flex\">\r\n          <button className=\"btn btn-primary\" onClick={() => handleProductEdit(item._id)}>\r\n            <i className=\"bi bi-pencil\"></i>\r\n          </button>\r\n          <button className=\"btn btn-danger ms-1\" onClick={() => handleDelete(item._id)}>\r\n            <i className=\"bi bi-trash\"></i>\r\n          </button>\r\n        </div>\r\n      )\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.products.fetchAll().then((data) => setProducts(data))\r\n  }, [])\r\n\r\n  const handleChangeData = () => {\r\n    api.products.fetchAll().then((data) => setProducts(data))\r\n  }\r\n\r\n  const handleShow = () => setShow(true)\r\n\r\n  const handleClose = () => {\r\n    setShow(false)\r\n    setTypeForm()\r\n  }\r\n\r\n  const handleProductEdit = (id) => {\r\n    setId(id)\r\n    setTypeForm('edit')\r\n    handleShow()\r\n  }\r\n  const handleProductCreate = () => {\r\n    setTypeForm('create')\r\n    handleShow()\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    setProducts(products.filter((p) => p._id !== id))\r\n  }\r\n\r\n  const handleSort = (item) => {\r\n    setSortBy(item)\r\n  }\r\n\r\n  const sortedProducts = orderBy(products, [sortBy.path], [sortBy.order])\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n        {products && (\r\n          <>\r\n            <button className=\"btn btn-primary d-flex ms-auto\" onClick={handleProductCreate}>\r\n              Добавить\r\n            </button>\r\n            <TableItems\r\n              columns={columns}\r\n              data={sortedProducts}\r\n              selectedSort={sortBy}\r\n              onSort={handleSort}\r\n            />\r\n            {typeForm && (\r\n              <>\r\n                {typeForm === 'edit' ? (\r\n                  <EditForm\r\n                    id={id}\r\n                    onClose={handleClose}\r\n                    show={show}\r\n                    onChangeData={handleChangeData}\r\n                  />\r\n                ) : (\r\n                  <CreateForm onClose={handleClose} show={show} onChangeData={handleChangeData} />\r\n                )}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </Container>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Dashboard\r\n","import { useState, useEffect } from 'react'\r\nimport groups from '../mockData/groups.json'\r\nimport products from '../mockData/products.json'\r\nimport httpService from '../service/http.service'\r\n\r\nconst useMockData = () => {\r\n  const statusConsts = {\r\n    idle: 'Not started',\r\n    pending: 'In process',\r\n    successed: 'Ready',\r\n    error: 'Error occured'\r\n  }\r\n\r\n  const [error, setError] = useState(null)\r\n  const [status, setStatus] = useState(statusConsts.idle)\r\n  const [progress, setProgress] = useState(0)\r\n  const [count, setCount] = useState(0)\r\n  const summuryCount = products.length + groups.length\r\n\r\n  const incrementCount = () => {\r\n    setCount(prevState => prevState + 1)\r\n  }\r\n\r\n  const updateProgress = () => {\r\n    if (count !== 0 && status === statusConsts.idle) {\r\n      setStatus(statusConsts.pending)\r\n    }\r\n    const newProgress = Math.floor((count / summuryCount) * 100)\r\n    if (progress < newProgress) {\r\n      setProgress(() => newProgress)\r\n    }\r\n    if (newProgress === 100) {\r\n      setStatus(statusConsts.successed)\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    updateProgress()\r\n  }, [count])\r\n\r\n  async function initialize() {\r\n    try {\r\n      for (const product of products) {\r\n        await httpService.put('product/' + product._id, product)\r\n        incrementCount()\r\n      }\r\n      for (const group of groups) {\r\n        await httpService.put('group/' + group._id, group)\r\n        incrementCount()\r\n      }\r\n    } catch (error) {\r\n      setError(error)\r\n      setStatus(statusConsts.error)\r\n    }\r\n  }\r\n\r\n  return { error, initialize, status, progress }\r\n}\r\n\r\nexport default useMockData\r\n","import React from 'react'\r\nimport Container from '../components/common/container'\r\nimport useMockData from '../utils/mockData'\r\nimport { ProgressBar } from 'react-bootstrap'\r\n\r\nconst Main = () => {\r\n  const { error, initialize, progress, status } = useMockData()\r\n\r\n  const handleClick = () => {\r\n    initialize()\r\n  }\r\n  \r\n  return (\r\n    <Container>\r\n      <h1> Main Page</h1>\r\n      <h3>Инициализация данных в FireBase</h3>\r\n      <ul>\r\n        <li>Status: {status}</li>\r\n        <li>\r\n          <ProgressBar animated now={progress} label={`${progress}%`} />\r\n        </li>\r\n        {error && <li>error: {error}</li>}\r\n      </ul>\r\n      <button className=\"btn btn-primary\" onClick={handleClick}>\r\n        Инициализировать\r\n      </button>\r\n    </Container>\r\n  )\r\n}\r\n\r\nexport default Main\r\n","import React, { useState } from 'react'\r\nimport { NavLink } from 'react-router-dom'\r\nimport Container from '../common/container'\r\n\r\nconst NavBar = () => {\r\n  const [isVisible, setIsVisible] = useState(false)\r\n\r\n  const handleToggle = () => {\r\n    setIsVisible(!isVisible)\r\n  }\r\n\r\n  return (\r\n    <header className=\"navbar-dark bg-primary mb-4\">\r\n      <nav className=\"navbar navbar-expand-sm\">\r\n        <Container>\r\n          <NavLink className=\"navbar-brand\" to=\"/\">\r\n            Главная\r\n          </NavLink>\r\n          <button\r\n            className={'navbar-toggler ' + (isVisible ? '' : 'collapsed')}\r\n            type=\"button\"\r\n            data-toggle=\"collapse\"\r\n            data-target=\"#navbarSupportedContent\"\r\n            aria-controls=\"navbarSupportedContent\"\r\n            aria-expanded={isVisible}\r\n            aria-label=\"Toggle navigation\">\r\n            <span className=\"navbar-toggler-icon\" onClick={handleToggle}></span>\r\n          </button>\r\n          <div\r\n            className={'collapse navbar-collapse justify-content-end ' + (isVisible ? ' show' : '')}\r\n            id=\"navbarSupportedContent\">\r\n            <ul className=\"navbar-nav\">\r\n              <NavLink to={'/main'} className=\"nav-link fs-5\">\r\n                Main\r\n              </NavLink>\r\n              <NavLink to={'/dashboard'} className=\"nav-link fs-5\">\r\n                Dashboard\r\n              </NavLink>\r\n              <NavLink to={'/login'} className=\"nav-link fs-5\">\r\n                Login\r\n              </NavLink>\r\n            </ul>\r\n          </div>\r\n        </Container>\r\n      </nav>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default NavBar\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst GroupsList = ({\r\n  items,\r\n  valueProperty,\r\n  contentProperty,\r\n  selectedItem,\r\n  onItemSelect,\r\n  onSelectClear\r\n}) => {\r\n  if (items) {\r\n    const itemsArray = !Array.isArray(items) ? Object.keys(items).map((item) => items[item]) : items\r\n\r\n    return (\r\n      <div className=\"d-flex flex-column\">\r\n        <ul className=\"list-group\">\r\n          {itemsArray.map((item) => (\r\n            <li\r\n              key={item[valueProperty]}\r\n              onClick={() => onItemSelect(item)}\r\n              role=\"button\"\r\n              className={`list-group-item list-group-item-action\r\n                ${item === selectedItem ? ' active' : ''}`}>\r\n              {item[contentProperty]}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n        <button\r\n          type=\"button\"\r\n          className=\"btn btn-secondary mt-3\"\r\n          onClick={onSelectClear}\r\n          disabled={!selectedItem}>\r\n          Показать все\r\n        </button>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return 'Loading...'\r\n}\r\n\r\nGroupsList.defaultProps = {\r\n  valueProperty: '_id',\r\n  contentProperty: 'name'\r\n}\r\n\r\nGroupsList.propTypes = {\r\n  items: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n  valueProperty: PropTypes.string,\r\n  contentProperty: PropTypes.string,\r\n  selectedItem: PropTypes.object,\r\n  onItemSelect: PropTypes.func,\r\n  onSelectClear: PropTypes.func\r\n}\r\n\r\nexport default GroupsList\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Pagination = ({ currentPage, countItem, pageSize, onPageChange }) => {\r\n  const pageCount = Math.ceil(countItem / pageSize)\r\n  \r\n  if (pageCount <= 1) return null\r\n\r\n  const pages = [...Array(pageCount).keys()].map((_) => _ + 1)\r\n\r\n  return (\r\n    <nav className=\"d-flex justify-content-center\">\r\n      <ul className=\"pagination pagination\">\r\n        {pages.map((page) => (\r\n          <li\r\n            key={page}\r\n            className={'page-item' + (page === currentPage ? ' active' : '')}\r\n            aria-current=\"page\"\r\n            onClick={() => onPageChange(page)}>\r\n            <button className=\"page-link\">{page}</button>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nPagination.propTypes = {\r\n  currentPage: PropTypes.number.isRequired,\r\n  countItem: PropTypes.number.isRequired,\r\n  pageSize: PropTypes.number.isRequired,\r\n  onPageChange: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Pagination\r\n","import React from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ProductCard = ({ _id, image, name, price }) => {\r\n  return (\r\n    <div className=\"card mb-3\">\r\n      <div className=\"row g-0\">\r\n        <div className=\"col-md-4 d-flex align-items-center\">\r\n          <img src={image} className=\"img-fluid rounded-start\" alt={name} />\r\n        </div>\r\n        <div className=\"col-md-8\">\r\n          <div className=\"card-body\">\r\n            <h5 className=\"card-title\">{name}</h5>\r\n            <p className=\"card-text\">\r\n              <small className=\"text-muted\">{'Артикул ' + _id}</small>\r\n            </p>\r\n            <p className=\"card-text\">{<b>{new Intl.NumberFormat('ru-RU').format(price)} ₽</b>}</p>\r\n            <Link\r\n              to={'catalog/' + _id}\r\n              id={_id}\r\n              image={image}\r\n              name={name}\r\n              price={price}\r\n              role=\"button\"\r\n              className=\"btn btn-primary\">\r\n              Показать\r\n            </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nProductCard.propTypes = {\r\n  _id: PropTypes.string.isRequired,\r\n  image: PropTypes.string.isRequired,\r\n  name: PropTypes.string.isRequired,\r\n  price: PropTypes.number.isRequired\r\n}\r\n\r\nexport default ProductCard\r\n","import React from 'react'\r\nimport ProductCard from './productCard'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst ProductsList = ({ items }) => {\r\n  if (items) {\r\n    return items.map((item) => <ProductCard key={item._id} {...item}/>)\r\n  }\r\n}\r\n\r\nProductsList.propTypes = {\r\n  items: PropTypes.oneOfType([PropTypes.object, PropTypes.array])\r\n}\r\n\r\nexport default ProductsList\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst SearchProduct = ({ value, onSearch }) => {\r\n  return (\r\n    <form className=\"d-flex mb-3\">\r\n      <input\r\n        className=\"form-control\"\r\n        type=\"search\"\r\n        value={value}\r\n        placeholder=\"Что вы ищете?\"\r\n        aria-label=\"Поиск\"\r\n        onChange={onSearch}\r\n      />\r\n    </form>\r\n  )\r\n}\r\n\r\nSearchProduct.propTypes = {\r\n  value: PropTypes.string,\r\n  onSearch: PropTypes.func.isRequired\r\n}\r\n\r\nexport default SearchProduct\r\n","import React from 'react'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst SortProducts = ({ sortList, selectedSort, onSort }) => {\r\n  const handleSort = (item) => {\r\n    onSort(\r\n      selectedSort.path === item\r\n        ? { ...selectedSort, order: selectedSort.order === 'asc' ? 'desc' : 'asc' }\r\n        : { path: item, order: 'asc' }\r\n    )\r\n  }\r\n\r\n  const renderSortPointer = (item) => {\r\n    const style = {\r\n      position: 'absolute',\r\n      left: '-12px',\r\n      color: 'var(--bs-blue)'\r\n    }\r\n\r\n    if (selectedSort.path === item) {\r\n      const cl = 'bi-sort-' + (selectedSort.order === 'asc' ? 'down-alt' : 'up-alt')\r\n      return <i className={cl} style={style}></i>\r\n    }\r\n    return null\r\n  }\r\n\r\n  return (\r\n    <div className=\"d-flex justify-content-end mb-3 me-3\">\r\n      {Object.keys(sortList).map((item) => (\r\n        <span\r\n          key={item}\r\n          role=\"button\"\r\n          className=\"d-inline-block ms-4 ps-2 position-relative\"\r\n          onClick={() => handleSort(sortList[item].path)}>\r\n          {renderSortPointer(sortList[item].path)}\r\n          {sortList[item].name}\r\n        </span>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nSortProducts.propTypes = {\r\n  sortList: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\r\n  selectedSort: PropTypes.object.isRequired,\r\n  onSort: PropTypes.func.isRequired\r\n}\r\n\r\nexport default SortProducts\r\n","import ProductsCatalogPage from './productsCatalogPage'\r\nexport default ProductsCatalogPage","import { orderBy } from 'lodash'\r\nimport React, { useEffect, useState } from 'react'\r\n// import api from '../../../api'\r\nimport { useProducts } from '../../../hooks/useProducts'\r\nimport { useGroups } from '../../../hooks/useGroups'\r\nimport { paginate } from '../../../utils/paginate'\r\nimport Container from '../../common/container'\r\nimport GroupsList from '../../common/groupsList'\r\nimport Pagination from '../../common/pagination'\r\nimport ProductsList from '../../ui/productsList'\r\nimport SearchProduct from '../../ui/searchProduct'\r\nimport SortProducts from '../../ui/sortProducts'\r\n\r\nconst ProductsCatalogPage = () => {\r\n  const { products } = useProducts()\r\n  // const [products, setProducts] = useState([])\r\n  const { groups } = useGroups()\r\n  // const [groups, setGroups] = useState()\r\n  const [searchQuery, setSearchQuery] = useState('')\r\n  const [selectedGroup, setSelectedGroup] = useState()\r\n  const [currentPage, setCurrentPage] = useState(1)\r\n  const [sortBy, setSortBy] = useState({ path: 'name', order: 'asc' })\r\n\r\n  const pageSize = 3\r\n  const sortList = {\r\n    price: { path: 'price', name: 'По цене' },\r\n    name: { path: 'name', name: 'По названию' }\r\n  }\r\n\r\n  useEffect(() => {\r\n    // api.products.fetchAll().then((data) => setProducts(data))\r\n    // api.groupsObject.fetchAll().then((data) => setGroups(data))\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setCurrentPage(1)\r\n  }, [selectedGroup, searchQuery])\r\n\r\n  const handleSearchQuery = ({ target }) => {\r\n    setSelectedGroup()\r\n    setSearchQuery(target.value)\r\n  }\r\n\r\n  const handleGroupSelect = (group) => {\r\n    setSearchQuery('')\r\n    setSelectedGroup(group)\r\n  }\r\n\r\n  const handleClearSelect = () => {\r\n    setSelectedGroup()\r\n  }\r\n\r\n  const filtredProducts = searchQuery\r\n    ? products.filter((p) => p.name.toLowerCase().includes(searchQuery.toLowerCase()))\r\n    : selectedGroup\r\n      ? products.filter((p) => p.group === selectedGroup._id)\r\n      : products\r\n\r\n  const sortedProducts = sortBy.path\r\n    ? orderBy(filtredProducts, [sortBy.path], [sortBy.order])\r\n    : filtredProducts\r\n\r\n  const handleSort = (item) => setSortBy(item)\r\n\r\n  const productsCrop = paginate(sortedProducts, currentPage, pageSize)\r\n\r\n  const handlePageChange = (pageIndex) => {\r\n    setCurrentPage(pageIndex)\r\n  }\r\n\r\n  const count = filtredProducts.length\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n        <SearchProduct value={searchQuery} onSearch={handleSearchQuery} />\r\n        <div className=\"row d-flex\">\r\n          <div className=\"col-md-4 col-sm mb-4\">\r\n            <GroupsList\r\n              items={groups}\r\n              selectedItem={selectedGroup}\r\n              onItemSelect={handleGroupSelect}\r\n              onSelectClear={handleClearSelect}\r\n              onClearItem\r\n            />\r\n          </div>\r\n          <div className=\"col-md-8 col-sm flex-grow-1\">\r\n            <SortProducts sortList={sortList} selectedSort={sortBy} onSort={handleSort} />\r\n            <ProductsList items={productsCrop} searchQuery={searchQuery} />\r\n            <Pagination\r\n              currentPage={currentPage}\r\n              countItem={count}\r\n              pageSize={pageSize}\r\n              onPageChange={handlePageChange}\r\n            />\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default ProductsCatalogPage\r\n","export const paginate = (items, pageNumber, pageSize) => {\r\n  const startIndex = (pageNumber - 1) * pageSize\r\n  return items.slice(startIndex, startIndex + pageSize)\r\n}","import React from 'react'\r\nimport { Button, Badge } from 'react-bootstrap'\r\n\r\nimport PropTypes from 'prop-types'\r\n\r\nconst Counter = ({ value, onIncrement, onDecrement }) => {\r\n  return (\r\n    <div className=\"d-flex align-items-center\">\r\n      <Button variant=\"success\" onClick={onIncrement}>\r\n        +\r\n      </Button>\r\n      <Badge\r\n        bg={value ? 'primary' : 'secondary'}\r\n        text={value ? '' : 'light'}\r\n        className=\"fs-4 ms-2 me-2\"\r\n        style={{ minWidth: '100px' }}>\r\n        {value <= 0 ? 'Пусто' : value}\r\n      </Badge>\r\n      <Button variant=\"danger\" onClick={onDecrement} disabled={!value}>\r\n        -\r\n      </Button>\r\n    </div>\r\n  )\r\n}\r\n\r\nCounter.propTypes = {\r\n  value: PropTypes.number.isRequired,\r\n  onIncrement: PropTypes.func.isRequired,\r\n  onDecrement: PropTypes.func.isRequired\r\n}\r\n\r\nexport default Counter\r\n","import ProductPage from './productPage'\r\nexport default ProductPage","import React, { useState, useEffect } from 'react'\r\nimport api from '../../../api'\r\nimport PropTypes from 'prop-types'\r\nimport Container from '../../common/container'\r\nimport Counter from '../../common/counter'\r\nimport { Button, Badge } from 'react-bootstrap'\r\nimport Loader from '../../common/loader'\r\n// import SearchProduct from '../../ui/searchProduct'\r\n\r\nconst ProductPage = ({ id }) => {\r\n  const [product, setProduct] = useState()\r\n  const [count, setCount] = useState(0)\r\n\r\n  const handleIncrement = () => {\r\n    setCount(count + 1)\r\n  }\r\n\r\n  const handleDecrement = () => {\r\n    setCount(count - 1)\r\n  }\r\n\r\n  useEffect(() => {\r\n    api.products.getById(id).then((data) => {\r\n      setProduct(data)\r\n    })\r\n  }, [])\r\n\r\n  if (!product) return <Loader/>\r\n\r\n  return (\r\n    <main>\r\n      <Container>\r\n        {/* <SearchProduct/> */}\r\n        <div className=\"row d-flex mt-5\">\r\n          <div className=\"col-md-5 col-sm mb-4\">\r\n            <img src={product.image} className=\"img-fluid rounded-start\" alt={product.name} />\r\n          </div>\r\n          <div\r\n            className=\"col-md-6 offset-md-1 col-sm flex-grow-1 position-relative\"\r\n            style={{ minHeight: '300px' }}>\r\n            <h1 className=\"card-title mb-4\">{product.name}</h1>\r\n            <p className=\"card-price mb-4\">\r\n              <b className=\"fs-1\">{new Intl.NumberFormat('ru-RU').format(product.price)} ₽</b>\r\n            </p>\r\n            <div className=\"d-flex mb-3\">\r\n              <Counter value={count} onIncrement={handleIncrement} onDecrement={handleDecrement} />\r\n              <Button variant=\"primary\" className=\"ms-4\">Добавить в корзину</Button>\r\n            </div>\r\n            <p className=\"position-absolute bottom-0 end-0\">\r\n              <Badge bg=\"light\" text=\"secondary\">\r\n                ID: {id}\r\n              </Badge>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </Container>\r\n    </main>\r\n  )\r\n}\r\n\r\nProductPage.propTypes = {\r\n  id: PropTypes.string.isRequired\r\n}\r\n\r\nexport default ProductPage\r\n","import React from 'react'\r\nimport { useParams } from 'react-router-dom'\r\nimport ProductsCatalogPage from '../components/pages/productsCatalogPage'\r\nimport ProductPage from '../components/pages/productPage'\r\n\r\nconst Catalog = () => {\r\n  const params = useParams()\r\n  const { productId } = params\r\n\r\n  return <>{productId ? <ProductPage id={productId} /> : <ProductsCatalogPage />}</>\r\n}\r\n\r\nexport default Catalog\r\n","import React from 'react'\nimport { Route, Switch, Redirect } from 'react-router-dom'\nimport Login from './layouts/login'\nimport Dashboard from './layouts/dashboard'\nimport Main from './layouts/main'\nimport NavBar from './components/ui/NavBar'\nimport Catalog from './layouts/catalog'\nimport ProductsProvider from './hooks/useProducts'\nimport GroupsProvider from './hooks/useGroups'\nimport { ToastContainer } from 'react-bootstrap'\nimport AuthProvider from './hooks/useAuth'\n\nfunction App() {\n  return (\n    <>\n      <AuthProvider>\n        <NavBar />\n        <GroupsProvider>\n          <ProductsProvider>\n            <Switch>\n              <Route exact path=\"/\" component={Catalog} />\n              <Route path=\"/catalog/:productId?\" component={Catalog} />\n              <Route path=\"/login/:type?\" component={Login} />\n              <Route path=\"/dashboard\" component={Dashboard} />\n              <Route path=\"/main\" component={Main} />\n              <Redirect to=\"/\" />\n            </Switch>\n          </ProductsProvider>\n        </GroupsProvider>\n      </AuthProvider>\n      <ToastContainer />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './app/App'\nimport 'bootstrap/dist/css/bootstrap.css'\nimport 'bootstrap/dist/js/bootstrap'\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}