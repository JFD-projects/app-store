(this["webpackJsonpapp-store"]=this["webpackJsonpapp-store"]||[]).push([[0],{111:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(18),s=a.n(n),i=a(15),o=a(8),u=a(3),l=a(1),b=function(e){var t=e.children;return Object(l.jsx)("div",{className:"container",children:t})},d=a(5),p=a.n(d),j=a(9),f=a(7),m=a(2),h=function(e){var t=e.label,a=e.type,r=e.name,n=e.value,s=e.onChange,i=e.error,o=Object(c.useState)(!1),b=Object(u.a)(o,2),d=b[0],p=b[1];return Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:r,children:t}),Object(l.jsxs)("div",{className:"input-group has-validation",children:[Object(l.jsx)("input",{className:"form-control"+(i?" is-invalid":" is-valid"),type:d?"text":a,id:r,name:r,value:n,onChange:function(e){var t=e.target;s({name:t.name,value:t.value})}}),"password"===a&&Object(l.jsx)("button",{className:"btn btn-outline"+(i?"-danger":"-success"),type:"button",onClick:function(){p(!d)},children:Object(l.jsx)("i",{className:"bi bi-eye"+(d?"-slash":"")})}),i&&Object(l.jsx)("div",{className:"invalid-feedback",children:i})]})]})};h.defaultProps={type:"text"};var O=h,g=function(e,t){var a={};function c(e,t,a){var c;switch(e){case"isRequired":c=!t.toString().trim();break;case"isEmail":c=!/^\S+@\S+\.\S+$/g.test(t);break;case"isCapitalSymbol":c=!/[A-Z]+/g.test(t);break;case"isDigitalSymbol":c=!/\d+/g.test(t);break;case"min":c=t.length<a.value;break;case"isDigit":c=!/^[0-9]+$/g.test(+t)}if(c)return a.message}for(var r in e)for(var n in t[r]){var s=c(n,e[r],t[r][n]);s&&!a[r]&&(a[r]=s)}return a},x=a(4),v=a(28),_=a.n(v),k=a(20),y=a(30),S=_.a.create({baseURL:y.apiEndPoint});S.interceptors.request.use((function(e){if(y.isFireBase){var t=/\/$/gi.test(e.url);e.url=(t?e.url.slice(0,-1):e.url)+".json"}return e}),(function(e){return Promise.reject(e)})),S.interceptors.response.use((function(e){var t;return y.isFireBase&&(e.data={content:(t=e.data,t?Object.keys(t).map((function(e){return t[e]})):[])}),e}),(function(e){return e.response&&e.response.status>=400&&e.response.status<500||(console.log(e),k.a.error("Error. Try it later.")),Promise.reject(e)}));var N={get:S.get,post:S.post,put:S.put,delete:S.delete},w="user/",C={get:function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get(w);case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),create:function(){var e=Object(j.a)(p.a.mark((function e(t){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.put(w+t._id,t);case 2:return a=e.sent,c=a.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},A="jwt-idToken",P="jwt-refresh-token",I="jwt-expires";function E(e){var t=e.idToken,a=e.refreshToken,c=e.expiresIn,r=void 0===c?3600:c,n=(new Date).getTime()+1e3*r;localStorage.setItem(A,t),localStorage.setItem(P,a),localStorage.setItem(I,n)}var B=_.a.create({baseURL:"https://identitytoolkit.googleapis.com/v1/",params:{key:Object({NODE_ENV:"production",PUBLIC_URL:"/app-store",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_KEY}}),z=r.a.createContext(),D=function(){return Object(c.useContext)(z)},M=function(e){var t=e.children,a=Object(c.useState)({}),r=Object(u.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)(null),o=Object(u.a)(i,2),b=o[0],d=o[1];function f(){return(f=Object(j.a)(p.a.mark((function e(t){var a,c,r,n,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,e.prev=1,e.next=4,B.post("accounts:signInWithPassword",{email:a,password:c,returnSecureToken:!0});case 4:r=e.sent,E(r.data),e.next=20;break;case 9:if(e.prev=9,e.t0=e.catch(1),v(e.t0),n=e.t0.response.data.error,s=n.code,i=n.message,console.log(s,i),400!==s){e.next=20;break}e.t1=i,e.next="INVALID_PASSWORD"===e.t1?18:19;break;case 18:throw new Error("Email \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e");case 19:throw new Error("\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u043f\u043e\u043f\u044b\u0442\u043e\u043a \u0432\u0445\u043e\u0434\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0434\u043d\u0435\u0435");case 20:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function h(){return(h=Object(j.a)(p.a.mark((function e(t){var a,c,r,n,s,i,o,u;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.email,c=t.password,r=Object(x.a)(t,["email","password"]),e.prev=1,e.next=4,B.post("accounts:signUp",{email:a,password:c,returnSecureToken:!0});case 4:return n=e.sent,E(s=n.data),e.next=9,O(Object(m.a)({_id:s.localId,email:a},r));case 9:console.log(s),e.next=21;break;case 12:if(e.prev=12,e.t0=e.catch(1),v(e.t0),i=e.t0.response.data.error,o=i.code,u=i.message,console.log(o,u),400!==o){e.next=21;break}if("EMAIL_EXISTS"!==u){e.next=21;break}throw{email:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c \u0441 \u0442\u0430\u043a\u0438\u043c email \u0443\u0436\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442"};case 21:case"end":return e.stop()}}),e,null,[[1,12]])})))).apply(this,arguments)}function O(e){return g.apply(this,arguments)}function g(){return(g=Object(j.a)(p.a.mark((function e(t){var a,c;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.create(t);case 3:a=e.sent,c=a.content,s(c),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),v(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function v(e){var t=e.response.data.message;d(t)}return Object(c.useEffect)((function(){b&&(Object(k.a)(b),d(null))}),[b]),Object(l.jsx)(z.Provider,{value:{signUp:function(e){return h.apply(this,arguments)},logIn:function(e){return f.apply(this,arguments)},currentUser:n,createUser:O},children:t})},R=function(){var e=Object(c.useState)({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)({}),s=Object(u.a)(n,2),i=s[0],o=s[1],b=Object(c.useState)(null),d=Object(u.a)(b,2),h=d[0],x=d[1],v=D().logIn,_=function(e){r((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(f.a)({},e.name,e.value))})),x(null)},k={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"},isEmail:{message:"\u0410\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"}}};Object(c.useEffect)((function(){y()}),[a]);var y=function(){var e=g(a,k);return o(e),!Object.keys(e).length},S=!Object.keys(i).length,N=function(){var e=Object(j.a)(p.a.mark((function e(t){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),y()){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,v(a);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),x(e.t0.message);case 12:console.log(a);case 13:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(l.jsxs)("form",{onSubmit:N,children:[Object(l.jsx)(O,{label:"\u041f\u043e\u0447\u0442\u0430",name:"email",value:a.email,error:i.email,onChange:_}),Object(l.jsx)(O,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:a.password,error:i.password,onChange:_}),h&&Object(l.jsx)("p",{className:"text-danger",children:h}),Object(l.jsx)("button",{className:"btn btn-primary w-100 mx-auto mb-4",type:"submit",disabled:!S||h,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},T=function(){var e=Object(o.g)(),t=Object(c.useState)({email:"",password:""}),a=Object(u.a)(t,2),r=a[0],n=a[1],s=Object(c.useState)({}),i=Object(u.a)(s,2),b=i[0],d=i[1],h=D().signUp,x=function(e){n((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(f.a)({},e.name,e.value))}))},v={email:{isRequired:{message:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u0430 \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"},isEmail:{message:"\u0410\u0434\u0440\u0435\u0441 \u043f\u043e\u0447\u0442\u044b \u0432\u0432\u0435\u0434\u0435\u043d \u043d\u0435\u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e!"}},password:{isRequired:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u0435\u043d \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"},isCapitalSymbol:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0437\u0430\u0433\u043b\u0430\u0432\u043d\u0443\u044e \u0431\u0443\u043a\u0432\u0443!"},isDigitalSymbol:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0445\u043e\u0442\u044f \u0431\u044b \u043e\u0434\u043d\u0443 \u0446\u0438\u0444\u0440\u0443!"},min:{message:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u043d\u0435 \u043c\u0435\u043d\u044c\u0448\u0435 8 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432!",value:8}}};Object(c.useEffect)((function(){_()}),[r]);var _=function(){var e=g(r,v);return d(e),!Object.keys(e).length},k=!Object.keys(b).length,y=function(){var t=Object(j.a)(p.a.mark((function t(a){var c;return p.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c=_(),console.log(b),c){t.next=5;break}return t.abrupt("return");case 5:return console.log(r),t.prev=6,t.next=9,h(r);case 9:e.push("/"),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(6),d(t.t0);case 15:case"end":return t.stop()}}),t,null,[[6,12]])})));return function(e){return t.apply(this,arguments)}}();return Object(l.jsxs)("form",{onSubmit:y,children:[Object(l.jsx)(O,{label:"\u041f\u043e\u0447\u0442\u0430",name:"email",value:r.email,error:b.email,onChange:x}),Object(l.jsx)(O,{label:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",value:r.password,error:b.password,onChange:x}),Object(l.jsx)("button",{className:"btn btn-primary w-100 mx-auto mb-4",type:"submit",disabled:!k,children:"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"})]})},F=function(){var e=Object(o.h)().type,t=Object(c.useState)("register"===e?e:"login"),a=Object(u.a)(t,2),r=a[0],n=a[1],s=function(){n((function(e){return"register"===e?"login":"register"}))};return Object(l.jsx)("main",{children:Object(l.jsx)(b,{children:Object(l.jsx)("div",{className:"row mt-5",children:Object(l.jsx)("div",{className:"col-md-6 offset-md-3 p-4 shadow",children:"register"===r?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{className:"mb-4",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(l.jsx)(T,{}),Object(l.jsxs)("p",{children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",Object(l.jsx)("a",{role:"button",className:"text-primary ms-2",onClick:s,children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{className:"mb-4",children:"\u0412\u043e\u0439\u0442\u0438"}),Object(l.jsx)(R,{}),Object(l.jsxs)("p",{children:["\u041d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?",Object(l.jsx)("a",{role:"button",className:"text-primary ms-2",onClick:s,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})]})})})})})},L=a(23),q={iphone:{_id:"67rdca3eeb7f6fgeed471198",name:"Apple iPhone"},makbook:{_id:"67rdca3eeb7f6fgeed471100",name:"Apple MakBook"},imak:{_id:"67rdca3eeb7f6fgeed4711012",name:"Apple iMak"},makpro:{_id:"67rdca3eeb7f6fgeed471101",name:"Apple iPro"},applewatch:{_id:"67rdca3eeb7f6fgeed471102",name:"Apple Watch"}},W={fetchAll:function(){return new Promise((function(e){window.setTimeout((function(){e(q)}),500)}))}},U=[{_id:"a000001",name:"Apple iPhone 13 Pro Max",group:q.iphone,price:109990,image:"https://static.re-store.ru/upload/resize_cache/iblock/dca/170_170_1/dca32fccc72f91b8de65872ab65d7ed7.jpg",count:50},{_id:"a000002",name:"Apple iPhone 11",group:q.iphone,price:64990,image:"https://static.re-store.ru/upload/resize_cache/iblock/3ad/1160_880_17f5c944b3b71591cc9304fac25365de2/3ad09f1ec4a94498118c24ca8e9f3b4a.jpg",count:55},{_id:"a000003",name:"Apple iPhone 10",group:q.iphone,price:79990,image:"https://static.re-store.ru/upload/resize_cache/iblock/7cd/1160_880_17f5c944b3b71591cc9304fac25365de2/7cd7910f2a5302ab559b5ce94e398125.jpg",count:60},{_id:"a000004",name:"Apple iPhone SE",group:q.iphone,price:51990,image:"https://static.re-store.ru/upload/resize_cache/iblock/5fd/1160_880_17f5c944b3b71591cc9304fac25365de2/5fd51b9fe517cac135c92dd031cd5bc0.jpg",count:10},{_id:"a000005",name:'Apple MacBook Pro 13"',group:q.makbook,price:137990,image:"https://static.re-store.ru/upload/resize_cache/iblock/922/1160_880_17f5c944b3b71591cc9304fac25365de2/92296847433225e3be0db5e827c7682e.jpg",count:15},{_id:"a000006",name:"Apple MacBook Air",group:q.makbook,price:119990,image:"https://static.re-store.ru/upload/resize_cache/iblock/de3/1160_880_17f5c944b3b71591cc9304fac25365de2/de317158d7bc97f494dab6698a95b12a.jpg",count:25},{_id:"a000007",name:'Apple MacBook Pro 16"',group:q.makbook,price:254990,image:"https://static.re-store.ru/upload/resize_cache/iblock/b15/1160_880_17f5c944b3b71591cc9304fac25365de2/b150ea3967babb753a28d196757b428a.jpg",count:30},{_id:"a000008",name:'Apple iMac 24" Blue',group:q.imak,price:169990,image:"https://static.re-store.ru/upload/resize_cache/iblock/b75/867_729_17f5c944b3b71591cc9304fac25365de2/b75b653416606202eff585c671cf0d13.jpg",count:40},{_id:"a000009",name:'Apple iMac 24" Gold',group:q.imak,price:149990,image:"https://static.re-store.ru/upload/resize_cache/iblock/311/866_729_17f5c944b3b71591cc9304fac25365de2/31130a4b20d0a383eeb842e7b1f22bd5.jpg",count:5},{_id:"a000010",name:"Apple Mac Pro",group:q.makpro,price:621990,image:"https://static.re-store.ru/upload/resize_cache/iblock/a02/1160_880_17f5c944b3b71591cc9304fac25365de2/a02a78fe5fb38035a3ccdbabdf722f12.jpg",count:100},{_id:"a0000011",name:"Apple Watch Series 6",group:q.applewatch,price:36990,image:"https://static.re-store.ru/upload/resize_cache/iblock/e1a/1160_880_17f5c944b3b71591cc9304fac25365de2/e1a220f521cd232b62e6c357be9f1801.jpg",count:300},{_id:"a0000012",name:"Apple Watch Nike Series 6",group:q.applewatch,price:37990,image:"https://static.re-store.ru/upload/resize_cache/iblock/c03/1160_880_17f5c944b3b71591cc9304fac25365de2/c034d55e79704a2c8b0cc90049c1a8b7.jpg",count:500}];localStorage.getItem("products")||localStorage.setItem("products",JSON.stringify(U));var J={products:{fetchAll:function(){return new Promise((function(e){window.setTimeout((function(){e(JSON.parse(localStorage.getItem("products")))}),1e3)}))},getById:function(e){return new Promise((function(t){window.setTimeout((function(){t(JSON.parse(localStorage.getItem("products")).find((function(t){return t._id===e})))}),500)}))},update:function(e,t){return new Promise((function(a){var c=JSON.parse(localStorage.getItem("products")),r=c.findIndex((function(t){return t._id===e}));c[r]=Object(m.a)(Object(m.a)({},c[r]),t),localStorage.setItem("products",JSON.stringify(c)),a(c[r])}))}},groupsObject:W},H=a(118),G=a(119),K={_id:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"}},name:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"}},group:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"}},price:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"},isDigit:{message:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}},count:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"},isDigit:{message:"\u0414\u043e\u043f\u0443\u0441\u0442\u0438\u043c\u043e \u0442\u043e\u043b\u044c\u043a\u043e \u0446\u0438\u0444\u0440\u043e\u0432\u043e\u0435 \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0435"}},image:{isRequired:{message:"\u041f\u043e\u043b\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0434\u043b\u044f \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f!"}}},$=function(e){var t=e.label,a=e.name,c=e.value,r=e.defaultOption,n=e.options,s=e.error,i=e.onChange,o=Array.isArray(n)||"object"!==typeof n?n:Object.keys(n).map((function(e){return{name:n[e].name,_id:n[e]._id}}));return Object(l.jsxs)("div",{className:"mb-3",children:[Object(l.jsx)("label",{className:"form-label",htmlFor:"validationCustom04",children:t}),Object(l.jsxs)("select",{className:"form-select"+(s?" is-invalid":""),id:"validationCustom04",value:c,name:a,onChange:function(e){var t=e.target;i({name:t.name,value:t.value})},children:[Object(l.jsx)("option",{disabled:!0,value:"",children:r}),n&&o.map((function(e){return Object(l.jsx)("option",{value:e._id,children:e.name},e._id)}))]}),s&&Object(l.jsx)("div",{className:"invalid-feedback",children:s})]})},V=function(){return Object(l.jsx)("div",{style:{width:"100vw",height:"100vh",position:"absolute",top:0,left:0,bottom:0,right:0,backgroundColor:"rgba(0,0,0, 0.3)"},className:"d-flex justify-content-center align-items-center",children:Object(l.jsx)("div",{className:"spinner-border text-light",role:"status",children:Object(l.jsx)("span",{className:"visually-hidden",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."})})})},Q=function(e){var t=e.show,a=e.onClose,r=e.onChangeData,n=Object(c.useState)({_id:"",name:"",group:"",price:0,count:0,image:""}),s=Object(u.a)(n,2),i=s[0],o=s[1],b=Object(c.useState)({}),d=Object(u.a)(b,2),p=d[0],j=d[1],h=Object(c.useState)({}),x=Object(u.a)(h,2),v=x[0],_=x[1],k=Object(c.useState)(!1),y=Object(u.a)(k,2),S=y[0],N=y[1];Object(c.useEffect)((function(){N(!0),J.groupsObject.fetchAll().then((function(e){return j(e)}))}),[]),Object(c.useEffect)((function(){Object.keys(p).length||N(!1)}),[p]);var w=function(e){o((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(f.a)({},e.name,e.value))}))},C=function(e){for(var t in p){var a=p[t];if(a._id===e)return a}};Object(c.useEffect)((function(){A()}),[i]);var A=function(){var e=g(i,K);return _(e),!Object.keys(e).length},P=!Object.keys(v).length,I=function(e){e.preventDefault(),A()&&(console.log(Object(m.a)(Object(m.a)({},i),{},{group:C(i.group)})),a(),r())};return S?Object(l.jsx)(V,{}):Object(l.jsxs)(H.a,{show:t,onHide:a,centered:!0,children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsxs)("form",{onSubmit:I,children:[Object(l.jsx)(O,{label:"ID",name:"_id",value:i._id,error:v._id,onChange:w}),Object(l.jsx)(O,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",name:"name",value:i.name,error:v.name,onChange:w}),Object(l.jsx)($,{label:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0442\u043e\u0432\u0430\u0440\u0430",defaultOption:"Choose...",name:"group",value:i.group,error:v.group,options:p,onChange:w}),Object(l.jsx)(O,{label:"\u0426\u0435\u043d\u0430",name:"price",type:"number",value:i.price,error:v.price,onChange:w}),Object(l.jsx)(O,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"count",type:"number",value:i.count,error:v.count,onChange:w}),Object(l.jsx)(O,{label:"\u0424\u043e\u0442\u043e",name:"image",value:i.image,error:v.image,onChange:w})]})}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(G.a,{variant:"secondary",onClick:a,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(l.jsx)(G.a,{variant:"primary",onClick:I,disabled:!P,children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})]})},X=a(115),Y=function(e){var t=e.columns,a=e.selectedSort,c=e.onSort,r=function(e){if(a.path===e){var t="bi bi-caret-"+("asc"===a.order?"down-fill":"up-fill");return Object(l.jsx)("i",{className:t,style:{color:"var(--bs-blue)"}})}return null};return Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:Object.keys(t).map((function(e){return Object(l.jsxs)("th",{role:t[e].path&&"button",scope:"col",onClick:t[e].path?function(){return r=t[e].path,void(a.path===r?c(Object(m.a)(Object(m.a)({},a),{},{order:"asc"===a.order?"desc":"asc"})):c({path:r,order:"asc"}));var r}:void 0,children:[t[e].name,r(t[e].path)]},e)}))})})},Z=function(e){var t=e.data,a=e.columns,c=function(e,t){var c=a[t].component;return c?c(e):Object(L.get)(e,a[t].path)};return Object(l.jsx)("tbody",{children:t.map((function(e){return Object(l.jsx)("tr",{children:Object.keys(a).map((function(t){return Object(l.jsx)("td",{children:c(e,t)},t)}))},e._id)}))})},ee=function(e){var t=e.children,a=Object(x.a)(e,["children"]);return Object(l.jsx)(X.a,{responsive:"md",className:"table table-striped",children:t||Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(Y,Object(m.a)({},a)),Object(l.jsx)(Z,Object(m.a)({},a))]})})},te=function(e){var t=e.id,a=e.show,r=e.onClose,n=e.onChangeData,s=Object(c.useState)({_id:"",name:"",group:"",price:0,count:0,image:""}),i=Object(u.a)(s,2),o=i[0],b=i[1],d=Object(c.useState)({}),p=Object(u.a)(d,2),j=p[0],h=p[1],v=Object(c.useState)({}),_=Object(u.a)(v,2),k=_[0],y=_[1],S=Object(c.useState)(!1),N=Object(u.a)(S,2),w=N[0],C=N[1];Object(c.useEffect)((function(){C(!0),J.products.getById(t).then((function(e){var t=e.group,a=Object(x.a)(e,["group"]);return b((function(e){return Object(m.a)(Object(m.a)(Object(m.a)({},e),a),{},{group:t._id})}))})),J.groupsObject.fetchAll().then((function(e){return h(e)}))}),[]),Object(c.useEffect)((function(){Object.keys(j).length||C(!1)}),[j]);var A=function(e){b((function(t){return Object(m.a)(Object(m.a)({},t),{},Object(f.a)({},e.name,e.value))}))},P=function(e){for(var t in j){var a=j[t];if(a._id===e)return a}};Object(c.useEffect)((function(){I()}),[o]);var I=function(){var e=g(o,K);return y(e),!Object.keys(e).length},E=!Object.keys(k).length,B=function(e){e.preventDefault(),I()&&J.products.update(t,Object(m.a)(Object(m.a)({},o),{},{group:P(o.group)})).then((function(){r(),n()}))};return w?Object(l.jsx)(V,{}):Object(l.jsxs)(H.a,{show:a,onHide:r,centered:!0,children:[Object(l.jsx)(H.a.Header,{closeButton:!0,children:Object(l.jsx)(H.a.Title,{children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})}),Object(l.jsx)(H.a.Body,{children:Object(l.jsxs)("form",{onSubmit:B,children:[Object(l.jsx)(O,{label:"ID",name:"_id",value:o._id,error:k._id,onChange:A}),Object(l.jsx)(O,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",name:"name",value:o.name,error:k.name,onChange:A}),Object(l.jsx)($,{label:"\u0413\u0440\u0443\u043f\u043f\u0430 \u0442\u043e\u0432\u0430\u0440\u0430",defaultOption:"Choose...",name:"group",value:o.group,error:k.group,options:j,onChange:A}),Object(l.jsx)(O,{label:"\u0426\u0435\u043d\u0430",name:"price",type:"number",value:o.price,error:k.price,onChange:A}),Object(l.jsx)(O,{label:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",name:"count",type:"number",value:o.count,error:k.count,onChange:A}),Object(l.jsx)(O,{label:"\u0424\u043e\u0442\u043e",name:"image",value:o.image,error:k.image,onChange:A})]})}),Object(l.jsxs)(H.a.Footer,{children:[Object(l.jsx)(G.a,{variant:"secondary",onClick:r,children:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),Object(l.jsx)(G.a,{variant:"primary",onClick:B,disabled:!E,children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"})]})]})},ae=a(17),ce=a.n(ae),re={get:function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("group/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ne=r.a.createContext(),se=function(){return Object(c.useContext)(ne)},ie=function(e){var t=e.children,a=Object(c.useState)([]),r=Object(u.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)(!0),o=Object(u.a)(i,2),b=o[0],d=o[1],f=Object(c.useState)(null),m=Object(u.a)(f,2),h=m[0],O=m[1];function g(){return(g=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get();case 3:t=e.sent,a=t.content,s(a),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function x(e){var t=e.response.data.message;O(t)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){h&&(Object(k.a)(h),O(null))}),[h]),Object(l.jsx)(ne.Provider,{value:{isLoading:b,groups:n,getGroupById:function(e){return n.find((function(t){return t._id===e}))}},children:t})},oe=function(e){var t=e.id,a=se(),c=a.isLoading,r=(0,a.getGroupById)(t);return c?"Loading...":Object(l.jsx)(l.Fragment,{children:r.name})};oe.propTypes={id:ce.a.string.isRequired};var ue=oe,le={get:function(){var e=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.get("product/");case 2:return t=e.sent,a=t.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},be=r.a.createContext(),de=function(){return Object(c.useContext)(be)},pe=function(e){var t=e.children,a=Object(c.useState)([]),r=Object(u.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)(!0),o=Object(u.a)(i,2),b=o[0],d=o[1],f=Object(c.useState)(null),m=Object(u.a)(f,2),h=m[0],O=m[1];function g(){return(g=Object(j.a)(p.a.mark((function e(){var t,a;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,le.get();case 3:t=e.sent,a=t.content,s(a),d(!1),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),x(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function x(e){var t=e.response.data.message;O(t),d(!1)}return Object(c.useEffect)((function(){!function(){g.apply(this,arguments)}()}),[]),Object(c.useEffect)((function(){h||(Object(k.a)(h),O(null))}),[h]),Object(l.jsx)(be.Provider,{value:{products:n,getProductById:function(e){return n.find((function(t){return t._id===e}))}},children:b?Object(l.jsx)(V,{}):t})},je=function(e){var t=e.id,a=(0,de().getProductById)(t);return a?Object(l.jsx)("div",{children:Object(l.jsx)("img",{style:{width:"50px",height:"50px",objectFit:"contain"},src:a.image,alt:a.name})}):"Loading..."},fe=function(){var e=Object(c.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)({path:"name",order:"asc"}),s=Object(u.a)(n,2),i=s[0],o=s[1],d=Object(c.useState)(),p=Object(u.a)(d,2),j=p[0],f=p[1],m=Object(c.useState)(),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(c.useState)(!1),v=Object(u.a)(x,2),_=v[0],k=v[1],y={id:{path:"_id",name:"ID"},name:{path:"name",name:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"},group:{path:"group.name",name:"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",component:function(e){return Object(l.jsx)(ue,{id:e.group._id})}},price:{path:"price",name:"\u0421\u0442\u043e\u0438\u043c\u043e\u0441\u0442\u044c"},count:{path:"count",name:"\u041a\u043e\u043b-\u0432\u043e"},image:{path:"image",name:"\u0424\u043e\u0442\u043e",component:function(e){return Object(l.jsx)(je,{id:e._id})}},buttons:{component:function(e){return Object(l.jsxs)("div",{className:"d-flex",children:[Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){return C(e._id)},children:Object(l.jsx)("i",{className:"bi bi-pencil"})}),Object(l.jsx)("button",{className:"btn btn-danger ms-1",onClick:function(){return A(e._id)},children:Object(l.jsx)("i",{className:"bi bi-trash"})})]})}}};Object(c.useEffect)((function(){J.products.fetchAll().then((function(e){return r(e)}))}),[]);var S=function(){J.products.fetchAll().then((function(e){return r(e)}))},N=function(){return k(!0)},w=function(){k(!1),f()},C=function(e){g(e),f("edit"),N()},A=function(e){r(a.filter((function(t){return t._id!==e})))},P=Object(L.orderBy)(a,[i.path],[i.order]);return Object(l.jsx)("main",{children:Object(l.jsx)(b,{children:a&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("button",{className:"btn btn-primary d-flex ms-auto",onClick:function(){f("create"),N()},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}),Object(l.jsx)(ee,{columns:y,data:P,selectedSort:i,onSort:function(e){o(e)}}),j&&Object(l.jsx)(l.Fragment,{children:"edit"===j?Object(l.jsx)(te,{id:O,onClose:w,show:_,onChangeData:S}):Object(l.jsx)(Q,{onClose:w,show:_,onChangeData:S})})]})})})},me=a(35),he=a(36),Oe=a(37),ge=function(){var e="Not started",t="In process",a="Ready",r="Error occured",n=Object(c.useState)(null),s=Object(u.a)(n,2),i=s[0],o=s[1],l=Object(c.useState)(e),b=Object(u.a)(l,2),d=b[0],f=b[1],m=Object(c.useState)(0),h=Object(u.a)(m,2),O=h[0],g=h[1],x=Object(c.useState)(0),v=Object(u.a)(x,2),_=v[0],k=v[1],y=Oe.length+he.length,S=function(){k((function(e){return e+1}))};function w(){return(w=Object(j.a)(p.a.mark((function e(){var t,a,c,n,s,i;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=Object(me.a)(Oe),e.prev=2,t.s();case 4:if((a=t.n()).done){e.next=11;break}return c=a.value,e.next=8,N.put("product/"+c._id,c);case 8:S();case 9:e.next=4;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),t.e(e.t0);case 16:return e.prev=16,t.f(),e.finish(16);case 19:n=Object(me.a)(he),e.prev=20,n.s();case 22:if((s=n.n()).done){e.next=29;break}return i=s.value,e.next=26,N.put("group/"+i._id,i);case 26:S();case 27:e.next=22;break;case 29:e.next=34;break;case 31:e.prev=31,e.t1=e.catch(20),n.e(e.t1);case 34:return e.prev=34,n.f(),e.finish(34);case 37:e.next=43;break;case 39:e.prev=39,e.t2=e.catch(0),o(e.t2),f(r);case 43:case"end":return e.stop()}}),e,null,[[0,39],[2,13,16,19],[20,31,34,37]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){0!==_&&d===e&&f(t);var c=Math.floor(_/y*100);O<c&&g((function(){return c})),100===c&&f(a)}()}),[_]),{error:i,initialize:function(){return w.apply(this,arguments)},status:d,progress:O}},xe=a(120),ve=function(){var e=ge(),t=e.error,a=e.initialize,c=e.progress,r=e.status;return Object(l.jsxs)(b,{children:[Object(l.jsx)("h1",{children:" Main Page"}),Object(l.jsx)("h3",{children:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u044f \u0434\u0430\u043d\u043d\u044b\u0445 \u0432 FireBase"}),Object(l.jsxs)("ul",{children:[Object(l.jsxs)("li",{children:["Status: ",r]}),Object(l.jsx)("li",{children:Object(l.jsx)(xe.a,{animated:!0,now:c,label:"".concat(c,"%")})}),t&&Object(l.jsxs)("li",{children:["error: ",t]})]}),Object(l.jsx)("button",{className:"btn btn-primary",onClick:function(){a()},children:"\u0418\u043d\u0438\u0446\u0438\u0430\u043b\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u0442\u044c"})]})},_e=function(){var e=Object(c.useState)(!1),t=Object(u.a)(e,2),a=t[0],r=t[1];return Object(l.jsx)("header",{className:"navbar-dark bg-primary mb-4",children:Object(l.jsx)("nav",{className:"navbar navbar-expand-sm",children:Object(l.jsxs)(b,{children:[Object(l.jsx)(i.c,{className:"navbar-brand",to:"/",children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),Object(l.jsx)("button",{className:"navbar-toggler "+(a?"":"collapsed"),type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":a,"aria-label":"Toggle navigation",children:Object(l.jsx)("span",{className:"navbar-toggler-icon",onClick:function(){r(!a)}})}),Object(l.jsx)("div",{className:"collapse navbar-collapse justify-content-end "+(a?" show":""),id:"navbarSupportedContent",children:Object(l.jsxs)("ul",{className:"navbar-nav",children:[Object(l.jsx)(i.c,{to:"/main",className:"nav-link fs-5",children:"Main"}),Object(l.jsx)(i.c,{to:"/dashboard",className:"nav-link fs-5",children:"Dashboard"}),Object(l.jsx)(i.c,{to:"/login",className:"nav-link fs-5",children:"Login"})]})})]})})})},ke=function(e){var t=e.items,a=e.valueProperty,c=e.contentProperty,r=e.selectedItem,n=e.onItemSelect,s=e.onSelectClear;if(t){var i=Array.isArray(t)?t:Object.keys(t).map((function(e){return t[e]}));return Object(l.jsxs)("div",{className:"d-flex flex-column",children:[Object(l.jsx)("ul",{className:"list-group",children:i.map((function(e){return Object(l.jsx)("li",{onClick:function(){return n(e)},role:"button",className:"list-group-item list-group-item-action\n                ".concat(e===r?" active":""),children:e[c]},e[a])}))}),Object(l.jsx)("button",{type:"button",className:"btn btn-secondary mt-3",onClick:s,disabled:!r,children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0432\u0441\u0435"})]})}return"Loading..."};ke.defaultProps={valueProperty:"_id",contentProperty:"name"};var ye=ke,Se=a(29),Ne=function(e){var t=e.currentPage,a=e.countItem,c=e.pageSize,r=e.onPageChange,n=Math.ceil(a/c);if(n<=1)return null;var s=Object(Se.a)(Array(n).keys()).map((function(e){return e+1}));return Object(l.jsx)("nav",{className:"d-flex justify-content-center",children:Object(l.jsx)("ul",{className:"pagination pagination",children:s.map((function(e){return Object(l.jsx)("li",{className:"page-item"+(e===t?" active":""),"aria-current":"page",onClick:function(){return r(e)},children:Object(l.jsx)("button",{className:"page-link",children:e})},e)}))})})},we=function(e){var t=e._id,a=e.image,c=e.name,r=e.price;return Object(l.jsx)("div",{className:"card mb-3",children:Object(l.jsxs)("div",{className:"row g-0",children:[Object(l.jsx)("div",{className:"col-md-4 d-flex align-items-center",children:Object(l.jsx)("img",{src:a,className:"img-fluid rounded-start",alt:c})}),Object(l.jsx)("div",{className:"col-md-8",children:Object(l.jsxs)("div",{className:"card-body",children:[Object(l.jsx)("h5",{className:"card-title",children:c}),Object(l.jsx)("p",{className:"card-text",children:Object(l.jsx)("small",{className:"text-muted",children:"\u0410\u0440\u0442\u0438\u043a\u0443\u043b "+t})}),Object(l.jsx)("p",{className:"card-text",children:Object(l.jsxs)("b",{children:[new Intl.NumberFormat("ru-RU").format(r)," \u20bd"]})}),Object(l.jsx)(i.b,{to:"catalog/"+t,id:t,image:a,name:c,price:r,role:"button",className:"btn btn-primary",children:"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c"})]})})]})})},Ce=function(e){var t=e.items;if(t)return t.map((function(e){return Object(l.jsx)(we,Object(m.a)({},e),e._id)}))},Ae=function(e){var t=e.value,a=e.onSearch;return Object(l.jsx)("form",{className:"d-flex mb-3",children:Object(l.jsx)("input",{className:"form-control",type:"search",value:t,placeholder:"\u0427\u0442\u043e \u0432\u044b \u0438\u0449\u0435\u0442\u0435?","aria-label":"\u041f\u043e\u0438\u0441\u043a",onChange:a})})},Pe=function(e){var t=e.sortList,a=e.selectedSort,c=e.onSort,r=function(e){if(a.path===e){var t="bi-sort-"+("asc"===a.order?"down-alt":"up-alt");return Object(l.jsx)("i",{className:t,style:{position:"absolute",left:"-12px",color:"var(--bs-blue)"}})}return null};return Object(l.jsx)("div",{className:"d-flex justify-content-end mb-3 me-3",children:Object.keys(t).map((function(e){return Object(l.jsxs)("span",{role:"button",className:"d-inline-block ms-4 ps-2 position-relative",onClick:function(){return function(e){c(a.path===e?Object(m.a)(Object(m.a)({},a),{},{order:"asc"===a.order?"desc":"asc"}):{path:e,order:"asc"})}(t[e].path)},children:[r(t[e].path),t[e].name]},e)}))})},Ie=function(){var e=de().products,t=se().groups,a=Object(c.useState)(""),r=Object(u.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)(),o=Object(u.a)(i,2),d=o[0],p=o[1],j=Object(c.useState)(1),f=Object(u.a)(j,2),m=f[0],h=f[1],O=Object(c.useState)({path:"name",order:"asc"}),g=Object(u.a)(O,2),x=g[0],v=g[1];Object(c.useEffect)((function(){}),[]),Object(c.useEffect)((function(){h(1)}),[d,n]);var _=n?e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())})):d?e.filter((function(e){return e.group===d._id})):e,k=function(e,t,a){var c=(t-1)*a;return e.slice(c,c+a)}(x.path?Object(L.orderBy)(_,[x.path],[x.order]):_,m,3),y=_.length;return Object(l.jsx)("main",{children:Object(l.jsxs)(b,{children:[Object(l.jsx)(Ae,{value:n,onSearch:function(e){var t=e.target;p(),s(t.value)}}),Object(l.jsxs)("div",{className:"row d-flex",children:[Object(l.jsx)("div",{className:"col-md-4 col-sm mb-4",children:Object(l.jsx)(ye,{items:t,selectedItem:d,onItemSelect:function(e){s(""),p(e)},onSelectClear:function(){p()},onClearItem:!0})}),Object(l.jsxs)("div",{className:"col-md-8 col-sm flex-grow-1",children:[Object(l.jsx)(Pe,{sortList:{price:{path:"price",name:"\u041f\u043e \u0446\u0435\u043d\u0435"},name:{path:"name",name:"\u041f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e"}},selectedSort:x,onSort:function(e){return v(e)}}),Object(l.jsx)(Ce,{items:k,searchQuery:n}),Object(l.jsx)(Ne,{currentPage:m,countItem:y,pageSize:3,onPageChange:function(e){h(e)}})]})]})]})})},Ee=a(116),Be=function(e){var t=e.value,a=e.onIncrement,c=e.onDecrement;return Object(l.jsxs)("div",{className:"d-flex align-items-center",children:[Object(l.jsx)(G.a,{variant:"success",onClick:a,children:"+"}),Object(l.jsx)(Ee.a,{bg:t?"primary":"secondary",text:t?"":"light",className:"fs-4 ms-2 me-2",style:{minWidth:"100px"},children:t<=0?"\u041f\u0443\u0441\u0442\u043e":t}),Object(l.jsx)(G.a,{variant:"danger",onClick:c,disabled:!t,children:"-"})]})},ze=function(e){var t=e.id,a=Object(c.useState)(),r=Object(u.a)(a,2),n=r[0],s=r[1],i=Object(c.useState)(0),o=Object(u.a)(i,2),d=o[0],p=o[1];return Object(c.useEffect)((function(){J.products.getById(t).then((function(e){s(e)}))}),[]),n?Object(l.jsx)("main",{children:Object(l.jsx)(b,{children:Object(l.jsxs)("div",{className:"row d-flex mt-5",children:[Object(l.jsx)("div",{className:"col-md-5 col-sm mb-4",children:Object(l.jsx)("img",{src:n.image,className:"img-fluid rounded-start",alt:n.name})}),Object(l.jsxs)("div",{className:"col-md-6 offset-md-1 col-sm flex-grow-1 position-relative",style:{minHeight:"300px"},children:[Object(l.jsx)("h1",{className:"card-title mb-4",children:n.name}),Object(l.jsx)("p",{className:"card-price mb-4",children:Object(l.jsxs)("b",{className:"fs-1",children:[new Intl.NumberFormat("ru-RU").format(n.price)," \u20bd"]})}),Object(l.jsxs)("div",{className:"d-flex mb-3",children:[Object(l.jsx)(Be,{value:d,onIncrement:function(){p(d+1)},onDecrement:function(){p(d-1)}}),Object(l.jsx)(G.a,{variant:"primary",className:"ms-4",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]}),Object(l.jsx)("p",{className:"position-absolute bottom-0 end-0",children:Object(l.jsxs)(Ee.a,{bg:"light",text:"secondary",children:["ID: ",t]})})]})]})})}):Object(l.jsx)(V,{})},De=function(){var e=Object(o.h)().productId;return Object(l.jsx)(l.Fragment,{children:e?Object(l.jsx)(ze,{id:e}):Object(l.jsx)(Ie,{})})},Me=a(117);var Re=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(M,{children:[Object(l.jsx)(_e,{}),Object(l.jsx)(ie,{children:Object(l.jsx)(pe,{children:Object(l.jsxs)(o.d,{children:[Object(l.jsx)(o.b,{exact:!0,path:"/",component:De}),Object(l.jsx)(o.b,{path:"/catalog/:productId?",component:De}),Object(l.jsx)(o.b,{path:"/login/:type?",component:F}),Object(l.jsx)(o.b,{path:"/dashboard",component:fe}),Object(l.jsx)(o.b,{path:"/main",component:ve}),Object(l.jsx)(o.a,{to:"/"})]})})})]}),Object(l.jsx)(Me.a,{})]})};a(88),a(89);s.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(i.a,{children:Object(l.jsx)(Re,{})})}),document.getElementById("root"))},30:function(e){e.exports=JSON.parse('{"apiEndPoint":"https://app-store-13c52-default-rtdb.europe-west1.firebasedatabase.app/","isFireBase":true}')},36:function(e){e.exports=JSON.parse('[{"_id":"67rdca3eeb7f6fgeed471198","name":"Apple iPhone"},{"_id":"67rdca3eeb7f6fgeed471100","name":"Apple MakBook"},{"_id":"67rdca3eeb7f6fgeed4711012","name":"Apple iMak"},{"_id":"67rdca3eeb7f6fgeed471101","name":"Apple iPro"},{"_id":"67rdca3eeb7f6fgeed471102","name":"Apple Watch"}]')},37:function(e){e.exports=JSON.parse('[{"_id":"a000001","name":"Apple iPhone 13 Pro Max","group":"67rdca3eeb7f6fgeed471198","price":109990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/368/1160_880_17f5c944b3b71591cc9304fac25365de2/36881e43357276bd69141940ea2ac1de.jpg","count":50},{"_id":"a000002","name":"Apple iPhone 11","group":"67rdca3eeb7f6fgeed471198","price":64990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/3ad/1160_880_17f5c944b3b71591cc9304fac25365de2/3ad09f1ec4a94498118c24ca8e9f3b4a.jpg","count":55},{"_id":"a000003","name":"Apple iPhone 10","group":"67rdca3eeb7f6fgeed471198","price":79990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/7cd/1160_880_17f5c944b3b71591cc9304fac25365de2/7cd7910f2a5302ab559b5ce94e398125.jpg","count":60},{"_id":"a000004","name":"Apple iPhone SE","group":"67rdca3eeb7f6fgeed471198","price":51990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/5fd/1160_880_17f5c944b3b71591cc9304fac25365de2/5fd51b9fe517cac135c92dd031cd5bc0.jpg","count":10},{"_id":"a000005","name":"Apple MacBook Pro 13\'","group":"67rdca3eeb7f6fgeed471100","price":137990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/922/1160_880_17f5c944b3b71591cc9304fac25365de2/92296847433225e3be0db5e827c7682e.jpg","count":15},{"_id":"a000006","name":"Apple MacBook Air","group":"67rdca3eeb7f6fgeed471100","price":119990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/de3/1160_880_17f5c944b3b71591cc9304fac25365de2/de317158d7bc97f494dab6698a95b12a.jpg","count":25},{"_id":"a000007","name":"Apple MacBook Pro 16\'","group":"67rdca3eeb7f6fgeed471100","price":254990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/b15/1160_880_17f5c944b3b71591cc9304fac25365de2/b150ea3967babb753a28d196757b428a.jpg","count":30},{"_id":"a000008","name":"Apple iMac 24\' Blue","group":"67rdca3eeb7f6fgeed4711012","price":169990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/b75/867_729_17f5c944b3b71591cc9304fac25365de2/b75b653416606202eff585c671cf0d13.jpg","count":40},{"_id":"a000009","name":"Apple iMac 24\' Gold","group":"67rdca3eeb7f6fgeed4711012","price":149990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/311/866_729_17f5c944b3b71591cc9304fac25365de2/31130a4b20d0a383eeb842e7b1f22bd5.jpg","count":5},{"_id":"a000010","name":"Apple Mac Pro","group":"67rdca3eeb7f6fgeed471101","price":621990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/a02/1160_880_17f5c944b3b71591cc9304fac25365de2/a02a78fe5fb38035a3ccdbabdf722f12.jpg","count":100},{"_id":"a0000011","name":"Apple Watch Series 6","group":"67rdca3eeb7f6fgeed471102","price":36990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/e1a/1160_880_17f5c944b3b71591cc9304fac25365de2/e1a220f521cd232b62e6c357be9f1801.jpg","count":300},{"_id":"a0000012","name":"Apple Watch Nike Series 6","group":"67rdca3eeb7f6fgeed471102","price":37990,"image":"https://static.re-store.ru/upload/resize_cache/iblock/c03/1160_880_17f5c944b3b71591cc9304fac25365de2/c034d55e79704a2c8b0cc90049c1a8b7.jpg","count":500}]')}},[[111,1,2]]]);
//# sourceMappingURL=main.b1b69556.chunk.js.map